(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();const H={};function Qs(t){H.context=t}const Js=(t,e)=>t===e,se=Symbol("solid-proxy"),En=Symbol("solid-track"),Zs=Symbol("solid-dev-component"),Ht={equals:Js};let zr=Xr;const _e=1,Gt=2,Wr={owned:null,cleanups:null,context:null,owner:null};var N=null;let Ke=null,B=null,X=null,ge=null,cn=0;function ct(t,e){const n=B,r=N,s=t.length===0,o=s?Wr:{owned:null,cleanups:null,context:null,owner:e===void 0?r:e},i=s?t:()=>t(()=>ne(()=>hn(o)));N=o,B=null;try{return Oe(i,!0)}finally{B=n,N=r}}function pe(t,e){e=e?Object.assign({},Ht,e):Ht;const n={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),Yr(n,s));return[Gr.bind(n),r]}function eo(t,e,n){const r=dn(t,e,!0,_e);tt(r)}function Pe(t,e,n){const r=dn(t,e,!1,_e);tt(r)}function gt(t,e,n){zr=ao;const r=dn(t,e,!1,_e);r.user=!0,ge?ge.push(r):tt(r)}function D(t,e,n){n=n?Object.assign({},Ht,n):Ht;const r=dn(t,e,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,tt(r),Gr.bind(r)}function oe(t){return Oe(t,!1)}function ne(t){if(B===null)return t();const e=B;B=null;try{return t()}finally{B=e}}function un(t,e,n){const r=Array.isArray(t);let s,o=n&&n.defer;return i=>{let a;if(r){a=Array(t.length);for(let d=0;d<t.length;d++)a[d]=t[d]()}else a=t();if(o){o=!1;return}const l=ne(()=>e(a,s,i));return s=a,l}}function to(t){gt(()=>ne(t))}function rr(t){return N===null||(N.cleanups===null?N.cleanups=[t]:N.cleanups.push(t)),t}function Hr(){return B}function no(){return N}function ro(t,e){const n=N,r=B;N=t,B=null;try{return Oe(e,!0)}catch(s){ir(s)}finally{N=n,B=r}}function so(t){const e=B,n=N;return Promise.resolve().then(()=>{B=e,N=n;let r;return Oe(t,!1),B=N=null,r?r.done:void 0})}function sr(t,e){const n=Symbol("context");return{id:n,Provider:co(n),defaultValue:t}}function fn(t){let e;return(e=Jr(N,t.id))!==void 0?e:t.defaultValue}function or(t){const e=D(t),n=D(()=>Cn(e()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Gr(){const t=Ke;if(this.sources&&(this.state||t))if(this.state===_e||t)tt(this);else{const e=X;X=null,Oe(()=>Xt(this),!1),X=e}if(B){const e=this.observers?this.observers.length:0;B.sources?(B.sources.push(this),B.sourceSlots.push(e)):(B.sources=[this],B.sourceSlots=[e]),this.observers?(this.observers.push(B),this.observerSlots.push(B.sources.length-1)):(this.observers=[B],this.observerSlots=[B.sources.length-1])}return this.value}function Yr(t,e,n){let r=t.value;return(!t.comparator||!t.comparator(r,e))&&(t.value=e,t.observers&&t.observers.length&&Oe(()=>{for(let s=0;s<t.observers.length;s+=1){const o=t.observers[s],i=Ke&&Ke.running;i&&Ke.disposed.has(o),(i&&!o.tState||!i&&!o.state)&&(o.pure?X.push(o):ge.push(o),o.observers&&Qr(o)),i||(o.state=_e)}if(X.length>1e6)throw X=[],new Error},!1)),e}function tt(t){if(!t.fn)return;hn(t);const e=N,n=B,r=cn;B=N=t,oo(t,t.value,r),B=n,N=e}function oo(t,e,n){let r;try{r=t.fn(e)}catch(s){return t.pure&&(t.state=_e,t.owned&&t.owned.forEach(hn),t.owned=null),t.updatedAt=n+1,ir(s)}(!t.updatedAt||t.updatedAt<=n)&&(t.updatedAt!=null&&"observers"in t?Yr(t,r):t.value=r,t.updatedAt=n)}function dn(t,e,n,r=_e,s){const o={fn:t,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:N,context:null,pure:n};return N===null||N!==Wr&&(N.owned?N.owned.push(o):N.owned=[o]),o}function Yt(t){const e=Ke;if(t.state===0||e)return;if(t.state===Gt||e)return Xt(t);if(t.suspense&&ne(t.suspense.inFallback))return t.suspense.effects.push(t);const n=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<cn);)(t.state||e)&&n.push(t);for(let r=n.length-1;r>=0;r--)if(t=n[r],t.state===_e||e)tt(t);else if(t.state===Gt||e){const s=X;X=null,Oe(()=>Xt(t,n[0]),!1),X=s}}function Oe(t,e){if(X)return t();let n=!1;e||(X=[]),ge?n=!0:ge=[],cn++;try{const r=t();return io(n),r}catch(r){n||(ge=null),X=null,ir(r)}}function io(t){if(X&&(Xr(X),X=null),t)return;const e=ge;ge=null,e.length&&Oe(()=>zr(e),!1)}function Xr(t){for(let e=0;e<t.length;e++)Yt(t[e])}function ao(t){let e,n=0;for(e=0;e<t.length;e++){const r=t[e];r.user?t[n++]=r:Yt(r)}for(H.context&&Qs(),e=0;e<n;e++)Yt(t[e])}function Xt(t,e){const n=Ke;t.state=0;for(let r=0;r<t.sources.length;r+=1){const s=t.sources[r];s.sources&&(s.state===_e||n?s!==e&&(!s.updatedAt||s.updatedAt<cn)&&Yt(s):(s.state===Gt||n)&&Xt(s,e))}}function Qr(t){const e=Ke;for(let n=0;n<t.observers.length;n+=1){const r=t.observers[n];(!r.state||e)&&(r.state=Gt,r.pure?X.push(r):ge.push(r),r.observers&&Qr(r))}}function hn(t){let e;if(t.sources)for(;t.sources.length;){const n=t.sources.pop(),r=t.sourceSlots.pop(),s=n.observers;if(s&&s.length){const o=s.pop(),i=n.observerSlots.pop();r<s.length&&(o.sourceSlots[i]=r,s[r]=o,n.observerSlots[r]=i)}}if(t.owned){for(e=0;e<t.owned.length;e++)hn(t.owned[e]);t.owned=null}if(t.cleanups){for(e=0;e<t.cleanups.length;e++)t.cleanups[e]();t.cleanups=null}t.state=0,t.context=null}function lo(t){return t instanceof Error||typeof t=="string"?t:new Error("Unknown error")}function ir(t){throw t=lo(t),t}function Jr(t,e){return t?t.context&&t.context[e]!==void 0?t.context[e]:Jr(t.owner,e):void 0}function Cn(t){if(typeof t=="function"&&!t.length)return Cn(t());if(Array.isArray(t)){const e=[];for(let n=0;n<t.length;n++){const r=Cn(t[n]);Array.isArray(r)?e.push.apply(e,r):e.push(r)}return e}return t}function co(t,e){return function(r){let s;return Pe(()=>s=ne(()=>(N.context={[t]:r.value},or(()=>r.children))),void 0),s}}const uo=Symbol("fallback");function Pr(t){for(let e=0;e<t.length;e++)t[e]()}function fo(t,e,n={}){let r=[],s=[],o=[],i=0,a=e.length>1?[]:null;return rr(()=>Pr(o)),()=>{let l=t()||[],d,c;return l[En],ne(()=>{let f=l.length,h,g,m,b,y,p,w,P,k;if(f===0)i!==0&&(Pr(o),o=[],r=[],s=[],i=0,a&&(a=[])),n.fallback&&(r=[uo],s[0]=ct(x=>(o[0]=x,n.fallback())),i=1);else if(i===0){for(s=new Array(f),c=0;c<f;c++)r[c]=l[c],s[c]=ct(u);i=f}else{for(m=new Array(f),b=new Array(f),a&&(y=new Array(f)),p=0,w=Math.min(i,f);p<w&&r[p]===l[p];p++);for(w=i-1,P=f-1;w>=p&&P>=p&&r[w]===l[P];w--,P--)m[P]=s[w],b[P]=o[w],a&&(y[P]=a[w]);for(h=new Map,g=new Array(P+1),c=P;c>=p;c--)k=l[c],d=h.get(k),g[c]=d===void 0?-1:d,h.set(k,c);for(d=p;d<=w;d++)k=r[d],c=h.get(k),c!==void 0&&c!==-1?(m[c]=s[d],b[c]=o[d],a&&(y[c]=a[d]),c=g[c],h.set(k,c)):o[d]();for(c=p;c<f;c++)c in m?(s[c]=m[c],o[c]=b[c],a&&(a[c]=y[c],a[c](c))):s[c]=ct(u);s=s.slice(0,i=f),r=l.slice(0)}return s});function u(f){if(o[c]=f,a){const[h,g]=pe(c);return a[c]=g,e(l[c],h)}return e(l[c])}}}function R(t,e){return ne(()=>t(e||{}))}function jt(){return!0}const On={get(t,e,n){return e===se?n:t.get(e)},has(t,e){return e===se?!0:t.has(e)},set:jt,deleteProperty:jt,getOwnPropertyDescriptor(t,e){return{configurable:!0,enumerable:!0,get(){return t.get(e)},set:jt,deleteProperty:jt}},ownKeys(t){return t.keys()}};function bn(t){return(t=typeof t=="function"?t():t)?t:{}}function ye(...t){let e=!1;for(let r=0;r<t.length;r++){const s=t[r];e=e||!!s&&se in s,t[r]=typeof s=="function"?(e=!0,D(s)):s}if(e)return new Proxy({get(r){for(let s=t.length-1;s>=0;s--){const o=bn(t[s])[r];if(o!==void 0)return o}},has(r){for(let s=t.length-1;s>=0;s--)if(r in bn(t[s]))return!0;return!1},keys(){const r=[];for(let s=0;s<t.length;s++)r.push(...Object.keys(bn(t[s])));return[...new Set(r)]}},On);const n={};for(let r=t.length-1;r>=0;r--)if(t[r]){const s=Object.getOwnPropertyDescriptors(t[r]);for(const o in s)o in n||Object.defineProperty(n,o,{enumerable:!0,get(){for(let i=t.length-1;i>=0;i--){const a=(t[i]||{})[o];if(a!==void 0)return a}}})}return n}function ar(t,...e){const n=new Set(e.flat());if(se in t){const s=e.map(o=>new Proxy({get(i){return o.includes(i)?t[i]:void 0},has(i){return o.includes(i)&&i in t},keys(){return o.filter(i=>i in t)}},On));return s.push(new Proxy({get(o){return n.has(o)?void 0:t[o]},has(o){return n.has(o)?!1:o in t},keys(){return Object.keys(t).filter(o=>!n.has(o))}},On)),s}const r=Object.getOwnPropertyDescriptors(t);return e.push(Object.keys(r).filter(s=>!n.has(s))),e.map(s=>{const o={};for(let i=0;i<s.length;i++){const a=s[i];a in t&&Object.defineProperty(o,a,r[a]?r[a]:{get(){return t[a]},set(){return!0},enumerable:!0})}return o})}function ho(t){const e="fallback"in t&&{fallback:()=>t.fallback};return D(fo(()=>t.each,t.children,e||void 0))}function mn(t){let e=!1;const n=t.keyed,r=D(()=>t.when,void 0,{equals:(s,o)=>e?s===o:!s==!o});return D(()=>{const s=r();if(s){const o=t.children,i=typeof o=="function"&&o.length>0;return e=n||i,i?ne(()=>o(s)):o}return t.fallback},void 0,void 0)}const mo=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],go=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...mo]),po=new Set(["innerHTML","textContent","innerText","children"]),yo=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ar=Object.assign(Object.create(null),{class:"className",formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly"}),bo=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),vo=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),wo={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function _o(t,e,n){let r=n.length,s=e.length,o=r,i=0,a=0,l=e[s-1].nextSibling,d=null;for(;i<s||a<o;){if(e[i]===n[a]){i++,a++;continue}for(;e[s-1]===n[o-1];)s--,o--;if(s===i){const c=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)t.insertBefore(n[a++],c)}else if(o===a)for(;i<s;)(!d||!d.has(e[i]))&&e[i].remove(),i++;else if(e[i]===n[o-1]&&n[a]===e[s-1]){const c=e[--s].nextSibling;t.insertBefore(n[a++],e[i++].nextSibling),t.insertBefore(n[--o],c),e[s]=n[o]}else{if(!d){d=new Map;let u=a;for(;u<o;)d.set(n[u],u++)}const c=d.get(e[i]);if(c!=null)if(a<c&&c<o){let u=i,f=1,h;for(;++u<s&&u<o&&!((h=d.get(e[u]))==null||h!==c+f);)f++;if(f>c-a){const g=e[i];for(;a<c;)t.insertBefore(n[a++],g)}else t.replaceChild(n[a++],e[i++])}else i++;else e[i++].remove()}}}const Er="_$DX_DELEGATE";function xo(t,e,n,r={}){let s;return ct(o=>{s=o,e===document?t():jn(e,t(),e.firstChild?null:void 0,n)},r.owner),()=>{s(),e.textContent=""}}function Pt(t,e,n){const r=document.createElement("template");if(r.innerHTML=t,e&&r.innerHTML.split("<").length-1!==e)throw`The browser resolved template HTML does not match JSX input:
${r.innerHTML}

${t}. Is your HTML properly formed?`;let s=r.content.firstChild;return n&&(s=s.firstChild),s}function Zr(t,e=window.document){const n=e[Er]||(e[Er]=new Set);for(let r=0,s=t.length;r<s;r++){const o=t[r];n.has(o)||(n.add(o),e.addEventListener(o,Do))}}function pt(t,e,n){n==null?t.removeAttribute(e):t.setAttribute(e,n)}function ko(t,e,n,r){r==null?t.removeAttributeNS(e,n):t.setAttributeNS(e,n,r)}function So(t,e){e==null?t.removeAttribute("class"):t.className=e}function Po(t,e,n,r){if(r)Array.isArray(n)?(t[`$$${e}`]=n[0],t[`$$${e}Data`]=n[1]):t[`$$${e}`]=n;else if(Array.isArray(n)){const s=n[0];t.addEventListener(e,n[0]=o=>s.call(t,n[1],o))}else t.addEventListener(e,n)}function Ao(t,e,n={}){const r=Object.keys(e||{}),s=Object.keys(n);let o,i;for(o=0,i=s.length;o<i;o++){const a=s[o];!a||a==="undefined"||e[a]||(Cr(t,a,!1),delete n[a])}for(o=0,i=r.length;o<i;o++){const a=r[o],l=!!e[a];!a||a==="undefined"||n[a]===l||!l||(Cr(t,a,!0),n[a]=l)}return n}function Eo(t,e,n){if(!e)return n?pt(t,"style"):e;const r=t.style;if(typeof e=="string")return r.cssText=e;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),e||(e={});let s,o;for(o in n)e[o]==null&&r.removeProperty(o),delete n[o];for(o in e)s=e[o],s!==n[o]&&(r.setProperty(o,s),n[o]=s);return n}function lr(t,e={},n,r){const s={};return r||Pe(()=>s.children=Xe(t,e.children,s.children)),Pe(()=>e.ref&&e.ref(t)),Pe(()=>Co(t,e,n,!0,s,!0)),s}function jn(t,e,n,r){if(n!==void 0&&!r&&(r=[]),typeof e!="function")return Xe(t,e,r,n);Pe(s=>Xe(t,e(),s,n),r)}function Co(t,e,n,r,s={},o=!1){e||(e={});for(const i in s)if(!(i in e)){if(i==="children")continue;s[i]=Or(t,i,null,s[i],n,o)}for(const i in e){if(i==="children"){r||Xe(t,e.children);continue}const a=e[i];s[i]=Or(t,i,a,s[i],n,o)}}function Oo(t){let e,n;if(!H.context||!(e=H.registry.get(n=Ro()))){if(H.context&&console.warn("Unable to find DOM nodes for hydration key:",n),!t)throw new Error("Unrecoverable Hydration Mismatch. No template for key: "+n);return t.cloneNode(!0)}return H.completed&&H.completed.add(e),H.registry.delete(n),e}function jo(t){return t.toLowerCase().replace(/-([a-z])/g,(e,n)=>n.toUpperCase())}function Cr(t,e,n){const r=e.trim().split(/\s+/);for(let s=0,o=r.length;s<o;s++)t.classList.toggle(r[s],n)}function Or(t,e,n,r,s,o){let i,a,l;if(e==="style")return Eo(t,n,r);if(e==="classList")return Ao(t,n,r);if(n===r)return r;if(e==="ref")o||n(t);else if(e.slice(0,3)==="on:"){const d=e.slice(3);r&&t.removeEventListener(d,r),n&&t.addEventListener(d,n)}else if(e.slice(0,10)==="oncapture:"){const d=e.slice(10);r&&t.removeEventListener(d,r,!0),n&&t.addEventListener(d,n,!0)}else if(e.slice(0,2)==="on"){const d=e.slice(2).toLowerCase(),c=bo.has(d);if(!c&&r){const u=Array.isArray(r)?r[0]:r;t.removeEventListener(d,u)}(c||n)&&(Po(t,d,n,c),c&&Zr([d]))}else if((l=po.has(e))||!s&&(Ar[e]||(a=go.has(e)))||(i=t.nodeName.includes("-")))e==="class"||e==="className"?So(t,n):i&&!a&&!l?t[jo(e)]=n:t[Ar[e]||e]=n;else{const d=s&&e.indexOf(":")>-1&&wo[e.split(":")[0]];d?ko(t,d,e,n):pt(t,yo[e]||e,n)}return n}function Do(t){const e=`$$${t.type}`;let n=t.composedPath&&t.composedPath()[0]||t.target;for(t.target!==n&&Object.defineProperty(t,"target",{configurable:!0,value:n}),Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return n||document}}),H.registry&&!H.done&&(H.done=_$HY.done=!0);n;){const r=n[e];if(r&&!n.disabled){const s=n[`${e}Data`];if(s!==void 0?r.call(n,s,t):r.call(n,t),t.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Xe(t,e,n,r,s){for(H.context&&!n&&(n=[...t.childNodes]);typeof n=="function";)n=n();if(e===n)return n;const o=typeof e,i=r!==void 0;if(t=i&&n[0]&&n[0].parentNode||t,o==="string"||o==="number"){if(H.context)return n;if(o==="number"&&(e=e.toString()),i){let a=n[0];a&&a.nodeType===3?a.data=e:a=document.createTextNode(e),n=qe(t,n,r,a)}else n!==""&&typeof n=="string"?n=t.firstChild.data=e:n=t.textContent=e}else if(e==null||o==="boolean"){if(H.context)return n;n=qe(t,n,r)}else{if(o==="function")return Pe(()=>{let a=e();for(;typeof a=="function";)a=a();n=Xe(t,a,n,r)}),()=>n;if(Array.isArray(e)){const a=[],l=n&&Array.isArray(n);if(Dn(a,e,n,s))return Pe(()=>n=Xe(t,a,n,r,!0)),()=>n;if(H.context){if(!a.length)return n;for(let d=0;d<a.length;d++)if(a[d].parentNode)return n=a}if(a.length===0){if(n=qe(t,n,r),i)return n}else l?n.length===0?jr(t,a,r):_o(t,n,a):(n&&qe(t),jr(t,a));n=a}else if(e instanceof Node){if(H.context&&e.parentNode)return n=i?[e]:e;if(Array.isArray(n)){if(i)return n=qe(t,n,r,e);qe(t,n,null,e)}else n==null||n===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);n=e}else console.warn("Unrecognized value. Skipped inserting",e)}return n}function Dn(t,e,n,r){let s=!1;for(let o=0,i=e.length;o<i;o++){let a=e[o],l=n&&n[o];if(a instanceof Node)t.push(a);else if(!(a==null||a===!0||a===!1))if(Array.isArray(a))s=Dn(t,a,l)||s;else if(typeof a=="function")if(r){for(;typeof a=="function";)a=a();s=Dn(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||s}else t.push(a),s=!0;else{const d=String(a);d==="<!>"?l&&l.nodeType===8&&t.push(l):l&&l.nodeType===3&&l.data===d?t.push(l):t.push(document.createTextNode(d))}}return s}function jr(t,e,n=null){for(let r=0,s=e.length;r<s;r++)t.insertBefore(e[r],n)}function qe(t,e,n,r){if(n===void 0)return t.textContent="";const s=r||document.createTextNode("");if(e.length){let o=!1;for(let i=e.length-1;i>=0;i--){const a=e[i];if(s!==a){const l=a.parentNode===t;!o&&!i?l?t.replaceChild(s,a):t.insertBefore(s,n):l&&a.remove()}else o=!0}}else t.insertBefore(s,n);return[s]}function Ro(){const t=H.context;return`${t.id}${t.count++}`}const To=!1,Ko="http://www.w3.org/2000/svg";function Mo(t,e=!1){return e?document.createElementNS(Ko,t):document.createElement(t)}function Io(t){const[e,n]=ar(t,["component"]),r=D(()=>e.component);return D(()=>{const s=r();switch(typeof s){case"function":return Object.assign(s,{[Zs]:!0}),ne(()=>s(n));case"string":const o=vo.has(s),i=H.context?Oo():Mo(s,o);return lr(i,n,o),i}})}function es(t,e,n){return t.addEventListener(e,n),()=>t.removeEventListener(e,n)}function Bo([t,e],n,r){return[n?()=>n(t()):t,r?s=>e(r(s)):e]}function $o(t){try{return document.querySelector(t)}catch{return null}}function ts(t,e){const n=$o(`#${t}`);n?n.scrollIntoView():e&&window.scrollTo(0,0)}function ns(t,e,n,r){let s=!1;const o=a=>typeof a=="string"?{value:a}:a,i=Bo(pe(o(t()),{equals:(a,l)=>a.value===l.value}),void 0,a=>(!s&&e(a),a));return n&&rr(n((a=t())=>{s=!0,i[1](o(a)),s=!1})),{signal:i,utils:r}}function No(t){if(t){if(Array.isArray(t))return{signal:t}}else return{signal:pe({value:""})};return t}function Fo(){return ns(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:t,replace:e,scroll:n,state:r})=>{e?window.history.replaceState(r,"",t):window.history.pushState(r,"",t),ts(window.location.hash.slice(1),n)},t=>es(window,"popstate",()=>t()),{go:t=>window.history.go(t)})}function Lo(){return ns(()=>window.location.hash.slice(1),({value:t,replace:e,scroll:n,state:r})=>{e?window.history.replaceState(r,"","#"+t):window.location.hash=t;const s=t.indexOf("#"),o=s>=0?t.slice(s+1):"";ts(o,n)},t=>es(window,"hashchange",()=>t()),{go:t=>window.history.go(t),renderPath:t=>`#${t}`,parsePath:t=>{const e=t.replace(/^.*?#/,"");if(!e.startsWith("/")){const[,n="/"]=window.location.hash.split("#",2);return`${n}#${e}`}return e}})}function qo(){let t=new Set;function e(s){return t.add(s),()=>t.delete(s)}let n=!1;function r(s,o){if(n)return!(n=!1);const i={to:s,options:o,defaultPrevented:!1,preventDefault:()=>i.defaultPrevented=!0};for(const a of t)a.listener({...i,from:a.location,retry:l=>{l&&(n=!0),a.navigate(s,o)}});return!i.defaultPrevented}return{subscribe:e,confirm:r}}const Vo=/^(?:[a-z0-9]+:)?\/\//i,Uo=/^\/+|\/+$/g;function Me(t,e=!1){const n=t.replace(Uo,"");return n?e||/^[?#]/.test(n)?n:"/"+n:""}function $t(t,e,n){if(Vo.test(e))return;const r=Me(t),s=n&&Me(n);let o="";return!s||e.startsWith("/")?o=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?o=r+s:o=s,(o||"/")+Me(e,!o)}function zo(t,e){if(t==null)throw new Error(e);return t}function rs(t,e){return Me(t).replace(/\/*(\*.*)?$/g,"")+Me(e)}function Wo(t){const e={};return t.searchParams.forEach((n,r)=>{e[r]=n}),e}function Ho(t,e,n){const[r,s]=t.split("/*",2),o=r.split("/").filter(Boolean),i=o.length;return a=>{const l=a.split("/").filter(Boolean),d=l.length-i;if(d<0||d>0&&s===void 0&&!e)return null;const c={path:i?"":"/",params:{}},u=f=>n===void 0?void 0:n[f];for(let f=0;f<i;f++){const h=o[f],g=l[f],m=h[0]===":"?h.slice(1):h;if(h[0]===":"&&vn(g,u(m)))c.params[m]=g;else if(!vn(g,h))return null;c.path+=`/${g}`}if(s){const f=d?l.slice(-d).join("/"):"";if(vn(f,u(s)))c.params[s]=f;else return null}return c}}function vn(t,e){const n=r=>r.localeCompare(t,void 0,{sensitivity:"base"})===0;return e===void 0?!0:typeof e=="string"?n(e):typeof e=="function"?e(t):Array.isArray(e)?e.some(n):e instanceof RegExp?e.test(t):!1}function Go(t){const[e,n]=t.pattern.split("/*",2),r=e.split("/").filter(Boolean);return r.reduce((s,o)=>s+(o.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function ss(t){const e=new Map,n=no();return new Proxy({},{get(r,s){return e.has(s)||ro(n,()=>e.set(s,D(()=>t()[s]))),e.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(t())}})}function os(t){let e=/(\/?\:[^\/]+)\?/.exec(t);if(!e)return[t];let n=t.slice(0,e.index),r=t.slice(e.index+e[0].length);const s=[n,n+=e[1]];for(;e=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=e[1]),r=r.slice(e[0].length);return os(r).reduce((o,i)=>[...o,...s.map(a=>a+i)],[])}const Yo=100,is=sr(),gn=sr(),At=()=>zo(fn(is),"Make sure your app is wrapped in a <Router />");let yt;const cr=()=>yt||fn(gn)||At().base,Xo=t=>{const e=cr();return D(()=>e.resolvePath(t()))},Qo=t=>{const e=At();return D(()=>{const n=t();return n!==void 0?e.renderPath(n):n})},Jo=()=>At().navigatorFactory(),as=()=>At().location;function Zo(t,e="",n){const{component:r,data:s,children:o}=t,i=!o||Array.isArray(o)&&!o.length,a={key:t,element:r?()=>R(r,{}):()=>{const{element:l}=t;return l===void 0&&n?R(n,{}):l},preload:t.component?r.preload:t.preload,data:s};return ls(t.path).reduce((l,d)=>{for(const c of os(d)){const u=rs(e,c),f=i?u:u.split("/*",1)[0];l.push({...a,originalPath:c,pattern:f,matcher:Ho(f,!i,t.matchFilters)})}return l},[])}function ei(t,e=0){return{routes:t,score:Go(t[t.length-1])*1e4-e,matcher(n){const r=[];for(let s=t.length-1;s>=0;s--){const o=t[s],i=o.matcher(n);if(!i)return null;r.unshift({...i,route:o})}return r}}}function ls(t){return Array.isArray(t)?t:[t]}function cs(t,e="",n,r=[],s=[]){const o=ls(t);for(let i=0,a=o.length;i<a;i++){const l=o[i];if(l&&typeof l=="object"&&l.hasOwnProperty("path")){const d=Zo(l,e,n);for(const c of d){r.push(c);const u=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!u)cs(l.children,c.pattern,n,r,s);else{const f=ei([...r],s.length);s.push(f)}r.pop()}}}return r.length?s:s.sort((i,a)=>a.score-i.score)}function ti(t,e){for(let n=0,r=t.length;n<r;n++){const s=t[n].matcher(e);if(s)return s}return[]}function ni(t,e){const n=new URL("http://sar"),r=D(l=>{const d=t();try{return new URL(d,n)}catch{return console.error(`Invalid path ${d}`),l}},n,{equals:(l,d)=>l.href===d.href}),s=D(()=>r().pathname),o=D(()=>r().search,!0),i=D(()=>r().hash),a=D(()=>"");return{get pathname(){return s()},get search(){return o()},get hash(){return i()},get state(){return e()},get key(){return a()},query:ss(un(o,()=>Wo(r())))}}function ri(t,e="",n,r){const{signal:[s,o],utils:i={}}=No(t),a=i.parsePath||(_=>_),l=i.renderPath||(_=>_),d=i.beforeLeave||qo(),c=$t("",e),u=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!s().value&&o({value:c,replace:!0,scroll:!1});const[f,h]=pe(!1),g=async _=>{h(!0);try{await so(_)}finally{h(!1)}},[m,b]=pe(s().value),[y,p]=pe(s().state),w=ni(m,y),P=[],k={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(_){return $t(c,_)}};if(n)try{yt=k,k.data=n({data:void 0,params:{},location:w,navigate:S(k)})}finally{yt=void 0}function x(_,O,M){ne(()=>{if(typeof O=="number"){O&&(i.go?d.confirm(O,M)&&i.go(O):console.warn("Router integration does not support relative routing"));return}const{replace:C,resolve:A,scroll:v,state:I}={replace:!1,resolve:!0,scroll:!0,...M},V=A?_.resolvePath(O):$t("",O);if(V===void 0)throw new Error(`Path '${O}' is not a routable path`);if(P.length>=Yo)throw new Error("Too many redirects");const U=m();if((V!==U||I!==y())&&!To){if(d.confirm(V,M)){const ce=P.push({value:U,replace:C,scroll:v,state:y()});g(()=>{b(V),p(I)}).then(()=>{P.length===ce&&T({value:V,state:I})})}}})}function S(_){return _=_||fn(gn)||k,(O,M)=>x(_,O,M)}function T(_){const O=P[0];O&&((_.value!==O.value||_.state!==O.state)&&o({..._,replace:O.replace,scroll:O.scroll}),P.length=0)}Pe(()=>{const{value:_,state:O}=s();ne(()=>{_!==m()&&g(()=>{b(_),p(O)})})});{let _=function(O){if(O.defaultPrevented||O.button!==0||O.metaKey||O.altKey||O.ctrlKey||O.shiftKey)return;const M=O.composedPath().find(U=>U instanceof Node&&U.nodeName.toUpperCase()==="A");if(!M||!M.hasAttribute("link"))return;const C=M.href;if(M.target||!C&&!M.hasAttribute("state"))return;const A=(M.getAttribute("rel")||"").split(/\s+/);if(M.hasAttribute("download")||A&&A.includes("external"))return;const v=new URL(C);if(v.origin!==window.location.origin||c&&v.pathname&&!v.pathname.toLowerCase().startsWith(c.toLowerCase()))return;const I=a(v.pathname+v.search+v.hash),V=M.getAttribute("state");O.preventDefault(),x(k,I,{resolve:!1,replace:M.hasAttribute("replace"),scroll:!M.hasAttribute("noscroll"),state:V&&JSON.parse(V)})};Zr(["click"]),document.addEventListener("click",_),rr(()=>document.removeEventListener("click",_))}return{base:k,out:u,location:w,isRouting:f,renderPath:l,parsePath:a,navigatorFactory:S,beforeLeave:d}}function si(t,e,n,r,s){const{base:o,location:i,navigatorFactory:a}=t,{pattern:l,element:d,preload:c,data:u}=r().route,f=D(()=>r().path);c&&c();const h={parent:e,pattern:l,get child(){return n()},path:f,params:s,data:e.data,outlet:d,resolvePath(g){return $t(o.path(),g,f())}};if(u)try{yt=h,h.data=u({data:e.data,params:s,location:i,navigate:a(h)})}finally{yt=void 0}return h}const oi=Pt("<a link></a>",2),ii=t=>{const{source:e,url:n,base:r,data:s,out:o}=t,i=e||Fo(),a=ri(i,r,s);return R(is.Provider,{value:a,get children(){return t.children}})},ai=t=>{const e=At(),n=cr(),r=or(()=>t.children),s=D(()=>cs(r(),rs(n.pattern,t.base||""),li)),o=D(()=>ti(s(),e.location.pathname)),i=ss(()=>{const c=o(),u={};for(let f=0;f<c.length;f++)Object.assign(u,c[f].params);return u});e.out&&e.out.matches.push(o().map(({route:c,path:u,params:f})=>({originalPath:c.originalPath,pattern:c.pattern,path:u,params:f})));const a=[];let l;const d=D(un(o,(c,u,f)=>{let h=u&&c.length===u.length;const g=[];for(let m=0,b=c.length;m<b;m++){const y=u&&u[m],p=c[m];f&&y&&p.route.key===y.route.key?g[m]=f[m]:(h=!1,a[m]&&a[m](),ct(w=>{a[m]=w,g[m]=si(e,g[m-1]||n,()=>d()[m+1],()=>o()[m],i)}))}return a.splice(c.length).forEach(m=>m()),f&&h?f:(l=g[0],g)}));return R(mn,{get when(){return d()&&l},children:c=>R(gn.Provider,{value:c,get children(){return c.outlet()}})})},wn=t=>{const e=or(()=>t.children);return ye(t,{get children(){return e()}})},li=()=>{const t=cr();return R(mn,{get when(){return t.child},children:e=>R(gn.Provider,{value:e,get children(){return e.outlet()}})})};function ci(t){t=ye({inactiveClass:"inactive",activeClass:"active"},t);const[,e]=ar(t,["href","state","class","activeClass","inactiveClass","end"]),n=Xo(()=>t.href),r=Qo(n),s=as(),o=D(()=>{const i=n();if(i===void 0)return!1;const a=Me(i.split(/[?#]/,1)[0]).toLowerCase(),l=Me(s.pathname).toLowerCase();return t.end?a===l:l.startsWith(a)});return(()=>{const i=oi.cloneNode(!0);return lr(i,ye(e,{get href(){return r()||t.href},get state(){return JSON.stringify(t.state)},get classList(){return{...t.class&&{[t.class]:!0},[t.inactiveClass]:!o(),[t.activeClass]:o(),...e.classList}},get["aria-current"](){return o()?"page":void 0}}),!1,!1),i})()}function ui(t){const e=Jo(),n=as(),{href:r,state:s}=t,o=typeof r=="function"?r({navigate:e,location:n}):r;return e(o,{replace:!0,state:s}),null}let fi={data:""},di=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||fi,hi=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,mi=/\/\*[^]*?\*\/|  +/g,Dr=/\n+/g,Re=(t,e)=>{let n="",r="",s="";for(let o in t){let i=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+i+";":r+=o[1]=="f"?Re(i,o):o+"{"+Re(i,o[1]=="k"?"":e)+"}":typeof i=="object"?r+=Re(i,e?e.replace(/([^,])+/g,a=>o.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):o):i!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Re.p?Re.p(o,i):o+":"+i+";")}return n+(e&&s?e+"{"+s+"}":s)+r},ue={},us=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+us(t[n]);return e}return t},gi=(t,e,n,r,s)=>{let o=us(t),i=ue[o]||(ue[o]=(l=>{let d=0,c=11;for(;d<l.length;)c=101*c+l.charCodeAt(d++)>>>0;return"go"+c})(o));if(!ue[i]){let l=o!==t?t:(d=>{let c,u,f=[{}];for(;c=hi.exec(d.replace(mi,""));)c[4]?f.shift():c[3]?(u=c[3].replace(Dr," ").trim(),f.unshift(f[0][u]=f[0][u]||{})):f[0][c[1]]=c[2].replace(Dr," ").trim();return f[0]})(t);ue[i]=Re(s?{["@keyframes "+i]:l}:l,n?"":"."+i)}let a=n&&ue.g?ue.g:null;return n&&(ue.g=ue[i]),((l,d,c,u)=>{u?d.data=d.data.replace(u,l):d.data.indexOf(l)===-1&&(d.data=c?l+d.data:d.data+l)})(ue[i],e,r,a),i},pi=(t,e,n)=>t.reduce((r,s,o)=>{let i=e[o];if(i&&i.call){let a=i(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;i=l?"."+l:a&&typeof a=="object"?a.props?"":Re(a,""):a===!1?"":a}return r+s+(i??"")},"");function Qt(t){let e=this||{},n=t.call?t(e.p):t;return gi(n.unshift?n.raw?pi(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,di(e.target),e.g,e.o,e.k)}Qt.bind({g:1});Qt.bind({k:1});const yi=sr();function fs(t){let e=this||{};return(...n)=>{const r=s=>{const o=fn(yi),i=ye(s,{theme:o}),a=ye(i,{get class(){const h=i.class,g="class"in i&&/^go[0-9]+/.test(h);let m=Qt.apply({target:e.target,o:g,p:i,g:e.g},n);return[h,m].filter(Boolean).join(" ")}}),[l,d]=ar(a,["as","theme"]),c=d,u=l.as||t;let f;return typeof u=="function"?f=u(c):e.g==1?(f=document.createElement(u),lr(f,c)):f=Io(ye({component:u},c)),f};return r.class=s=>ne(()=>Qt.apply({target:e.target,p:s,g:e.g},n)),r}}const q=new Proxy(fs,{get(t,e){return t(e)}});function bi(){const t=fs.call({g:1},"div").apply(null,arguments);return function(n){return t(n),null}}const vi=t=>R(ci,{get href(){return t.href},get children(){return t.name}}),wi=t=>R(_i,{get children(){return R(xi,{get children(){return R(ho,{get each(){return t.navLinks},children:({name:e,href:n})=>R(vi,{name:e,href:n})})}})}}),_i=q("header")`
  display: flex;
  align-items: center;
  justify-content: end;
  height: var(--headerHeight);
  padding: 0 var(--outsidePadding);
`,xi=q("nav")`
  display: flex;
  gap: 20px;
  a {
    font-weight: 400;
    display: block;
    font-size: var(--navLinkSize);
    font-weight: bold;
    text-decoration: none;
    color: var(--mainColor);
    &.active {
      pointer-events: none;
      &::after {
        content: "";
        display: block;
        height: 2px;
        background: var(--mainColor);
        width: 100%;
        transition: transform 0.25s;
      }
    }
    &:not(.active) {
      &::after {
        content: "";
        display: block;
        height: 2px;
        width: 100%;
        background: var(--thirdColor);
        transform: translateY(5px);
        opacity: 0;
        transition: transform 0.25s;
      }
      &:hover:after {
        opacity: 1;
        transform: translateY(0px);
      }
    }
  }
`,ki=Pt("<div>Edit page</div>",2),Si=()=>ki.cloneNode(!0),Jt=Symbol("store-raw"),bt=Symbol("store-node"),Pi=Symbol("store-name");function ds(t,e){let n=t[se];if(!n&&(Object.defineProperty(t,se,{value:n=new Proxy(t,Ci)}),!Array.isArray(t))){const r=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let o=0,i=r.length;o<i;o++){const a=r[o];s[a].get&&Object.defineProperty(t,a,{enumerable:s[a].enumerable,get:s[a].get.bind(n)})}}return n}function Qe(t){let e;return t!=null&&typeof t=="object"&&(t[se]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Je(t,e=new Set){let n,r,s,o;if(n=t!=null&&t[Jt])return n;if(!Qe(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let i=0,a=t.length;i<a;i++)s=t[i],(r=Je(s,e))!==s&&(t[i]=r)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const i=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,d=i.length;l<d;l++)o=i[l],!a[o].get&&(s=t[o],(r=Je(s,e))!==s&&(t[o]=r))}return t}function ur(t){let e=t[bt];return e||Object.defineProperty(t,bt,{value:e={}}),e}function Rn(t,e,n){return t[e]||(t[e]=ms(n))}function Ai(t,e){const n=Reflect.getOwnPropertyDescriptor(t,e);return!n||n.get||!n.configurable||e===se||e===bt||e===Pi||(delete n.value,delete n.writable,n.get=()=>t[se][e]),n}function hs(t){if(Hr()){const e=ur(t);(e._||(e._=ms()))()}}function Ei(t){return hs(t),Reflect.ownKeys(t)}function ms(t){const[e,n]=pe(t,{equals:!1,internal:!0});return e.$=n,e}const Ci={get(t,e,n){if(e===Jt)return t;if(e===se)return n;if(e===En)return hs(t),n;const r=ur(t),s=r.hasOwnProperty(e);let o=s?r[e]():t[e];if(e===bt||e==="__proto__")return o;if(!s){const i=Object.getOwnPropertyDescriptor(t,e);Hr()&&(typeof o!="function"||t.hasOwnProperty(e))&&!(i&&i.get)&&(o=Rn(r,e,o)())}return Qe(o)?ds(o):o},has(t,e){return e===Jt||e===se||e===En||e===bt||e==="__proto__"?!0:(this.get(t,e,t),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Ei,getOwnPropertyDescriptor:Ai};function Ze(t,e,n,r=!1){if(!r&&t[e]===n)return;const s=t[e],o=t.length;n===void 0?delete t[e]:t[e]=n;let i=ur(t),a;(a=Rn(i,e,s))&&a.$(()=>n),Array.isArray(t)&&t.length!==o&&(a=Rn(i,"length",o))&&a.$(t.length),(a=i._)&&a.$()}function gs(t,e){const n=Object.keys(e);for(let r=0;r<n.length;r+=1){const s=n[r];Ze(t,s,e[s])}}function Oi(t,e){if(typeof e=="function"&&(e=e(t)),e=Je(e),Array.isArray(e)){if(t===e)return;let n=0,r=e.length;for(;n<r;n++){const s=e[n];t[n]!==s&&Ze(t,n,s)}Ze(t,"length",r)}else gs(t,e)}function it(t,e,n=[]){let r,s=t;if(e.length>1){r=e.shift();const i=typeof r,a=Array.isArray(t);if(Array.isArray(r)){for(let l=0;l<r.length;l++)it(t,[r[l]].concat(e),n);return}else if(a&&i==="function"){for(let l=0;l<t.length;l++)r(t[l],l)&&it(t,[l].concat(e),n);return}else if(a&&i==="object"){const{from:l=0,to:d=t.length-1,by:c=1}=r;for(let u=l;u<=d;u+=c)it(t,[u].concat(e),n);return}else if(e.length>1){it(t[r],e,[r].concat(n));return}s=t[r],n=[r].concat(n)}let o=e[0];typeof o=="function"&&(o=o(s,n),o===s)||r===void 0&&o==null||(o=Je(o),r===void 0||Qe(s)&&Qe(o)&&!Array.isArray(o)?gs(s,o):Ze(t,r,o))}function ps(...[t,e]){const n=Je(t||{}),r=Array.isArray(n),s=ds(n);function o(...i){oe(()=>{r&&i.length===1?Oi(n,i[0]):it(n,i)})}return[s,o]}const Zt=new WeakMap,ys={get(t,e){if(e===Jt)return t;const n=t[e];let r;return Qe(n)?Zt.get(n)||(Zt.set(n,r=new Proxy(n,ys)),r):n},set(t,e,n){return Ze(t,e,Je(n)),!0},deleteProperty(t,e){return Ze(t,e,void 0,!0),!0}};function ie(t){return e=>{if(Qe(e)){let n;(n=Zt.get(e))||Zt.set(e,n=new Proxy(e,ys)),t(n)}return e}}var ji=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,s,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!t(e[s],n[s]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],n.get(s[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(s of e.entries())if(!n.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(s=r;s--!==0;)if(e[s]!==n[s])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[s]))return!1;for(s=r;s--!==0;){var i=o[s];if(!t(e[i],n[i]))return!1}return!0}return e!==e&&n!==n};const fr="@@AbstractControlInterface_solidjs";function bs(t){return typeof t=="object"&&t?.[fr]===!0}const vs="@@AbstractControlContainerInterface_solidjs";function xe(t){return bs(t)&&t[vs]}function Q(t,e){return ji(t,e)}function dr(t,e){return Object.defineProperties(t,Object.getOwnPropertyDescriptors(e))}const je="CONTROL_DEFAULT_SOURCE";function ws(){const[t,e]=pe(null);return[n=>t()||n,()=>e(!1)]}function Di(t){return!t||Array.isArray(t)&&t.length===0?null:Array.isArray(t)?e=>t.reduce((n,r)=>{const s=r(e);return s?{...n,...s}:n},null):t}let Ri=0;function _s(t,e,n={}){let r,s,o,i,a,l;return[{id:n.id||Symbol(`AbstractControl-${Ri++}`),data:{...n.data},self:{get isValid(){return this.errors===null&&!this.isPending},isDisabled:!1,isTouched:!1,isDirty:!1,isReadonly:!1,isSubmitted:!1,isRequired:!1,get isPending(){return o?.()??e(!1)},get errors(){return i?.()??e(null)},errorsStore:new Map,pendingStore:new Set,validatorStore:new Map},get isDisabled(){return this.self.isDisabled},get isTouched(){return this.self.isTouched},get isDirty(){return this.self.isDirty},get isReadonly(){return this.self.isReadonly},get isSubmitted(){return this.self.isSubmitted},get isRequired(){return this.self.isRequired},get errors(){return this.self.errors},get isPending(){return this.self.isPending},get isValid(){return this.self.isValid},get status(){return a?.()??e("VALID")},get validator(){return l?.()??e(null)},markDisabled(u){Q(this.self.isDisabled,u)||s("self","isDisabled",u)},markReadonly(u){Q(this.self.isReadonly,u)||s("self","isReadonly",u)},markRequired(u){Q(this.self.isRequired,u)||s("self","isRequired",u)},markDirty(u){Q(this.self.isDirty,u)||s("self","isDirty",u)},markTouched(u){Q(this.self.isTouched,u)||s("self","isTouched",u)},markSubmitted(u){Q(this.self.isSubmitted,u)||s("self","isSubmitted",u)},markPending(u,f){let h;if(typeof u=="boolean"){const g=f?.source||je;if(this.self.pendingStore.has(g)===u)return;h=new Set(this.self.pendingStore),u?h.add(g):h.delete(g)}else{if(this.self.pendingStore===u)return;h=new Set(u)}Q(this.self.pendingStore,h)||s(ie(g=>{g.self.pendingStore=h}))},setErrors(u,f){const h=f?.source||je,g=this.self.errorsStore;let m;u instanceof Map?m=u:u===null||Object.keys(u).length===0?(m=new Map(g),m.delete(h)):m=new Map(g).set(h,u),!Q(this.self.errorsStore,m)&&s(ie(b=>{b.self.errorsStore=m}))},patchErrors(u,f){const h=this.self.errorsStore;if(u instanceof Map)s(ie(g=>{g.self.errorsStore=new Map([...h,...u])}));else{if(Object.keys(u).length===0)return;const g=f?.source||je;let m=u,b=h.get(g);if(b){b={...b};for(const[p,w]of Object.entries(m))w===null?delete b[p]:b[p]=w;m=b}else{const p=Object.entries(m).filter(([,w])=>w!==null);if(p.length===0)return;m=Object.fromEntries(p)}const y=new Map(h);if(Object.keys(m).length===0?y.delete(g):y.set(g,m),Q(this.self.errorsStore,y))return;s(ie(p=>{p.self.errorsStore=y}))}},setValidators(u,f){const h=f?.source||je;let g;if(u instanceof Map)g=new Map(u);else{g=new Map(this.self.validatorStore);const m=Di(u);m?g.set(h,m):g.delete(h)}Q(this.self.validatorStore,g)||s(ie(m=>{m.self.validatorStore=g}))},setData(u,f){Q(this.data[u],f)||s(ie(h=>{h.data[u]=f}))}},()=>{[r,s]=t(),o=D(()=>r.self.pendingStore.size>0),i=D(()=>r.self.errorsStore.size===0?null:Array.from(r.self.errorsStore.values()).reduce((u,f)=>({...u,...f}),{})),a=D(()=>r.isDisabled?"DISABLED":r.isPending?"PENDING":r.isValid?"VALID":"INVALID"),l=D(()=>{if(r.self.validatorStore.size===0)return null;const u=Array.from(r.self.validatorStore.values());return f=>{const h=u.reduce((g,m)=>({...g,...m(f)}),{});return Object.keys(h).length===0?null:h}}),eo(un(()=>r.validator?.(r.rawValue)??null,u=>{if(r.self.errorsStore.get(je)===u)return;const f=new Map(r.self.errorsStore);u?f.set(je,u):f.delete(je),!Q(r.self.errorsStore,f)&&s(ie(h=>{h.self.errorsStore=f}))}))}]}const Ti="@@FormControlInterface_solidjs";function We(t,e={}){let n,r;const[s,o]=ws(),[i,a]=_s(()=>[n,r],s,e),l=dr(i,{[fr]:!0,[Ti]:!0,rawValue:t,get value(){return this.rawValue},setValue(d){Q(this.value,d)||r(ie(c=>{c.rawValue=d}))}});return[n,r]=ps(l),a(),o(),e.disabled&&n.markDisabled(e.disabled),e.touched&&n.markTouched(e.touched),e.dirty&&n.markDirty(e.dirty),e.readonly&&n.markReadonly(e.readonly),e.submitted&&n.markSubmitted(e.submitted),e.required&&n.markRequired(e.required),e.pending&&n.markPending(e.pending),e.validators&&n.setValidators(e.validators),e.pending&&n.markPending(e.pending),e.errors&&n.patchErrors(e.errors),n}function Ki(t,e,n={}){let r,s;const[o,i]=_s(()=>[r,s],e,n);let a,l,d,c,u,f,h,g,m,b,y,p,w,P,k,x,S,T,_;return[dr(o,{get size(){return a?.()??e(0)},get isDisabled(){return this.self.isDisabled||this.children.areDisabled},get isTouched(){return this.self.isTouched||this.child.isTouched},get isDirty(){return this.self.isDirty||this.child.isDirty},get isReadonly(){return this.self.isReadonly||this.children.areReadonly},get isSubmitted(){return this.self.isSubmitted||this.children.areSubmitted},get isRequired(){return this.self.isRequired||this.child.isRequired},get isPending(){return this.self.isPending||this.child.isPending},get errors(){return T?.()??e(null)},get isValid(){return this.self.isValid&&this.children.areValid},child:{get isValid(){return l?.()??e(!0)},get isDisabled(){return d?.()??e(!1)},get isReadonly(){return c?.()??e(!1)},get isRequired(){return u?.()??e(!1)},get isPending(){return f?.()??e(!1)},get isTouched(){return h?.()??e(!1)},get isDirty(){return g?.()??e(!1)},get isSubmitted(){return m?.()??e(!1)}},children:{get areValid(){return b?.()??e(!0)},get areDisabled(){return y?.()??e(!1)},get areReadonly(){return p?.()??e(!1)},get areRequired(){return w?.()??e(!1)},get arePending(){return P?.()??e(!1)},get areTouched(){return k?.()??e(!1)},get areDirty(){return x?.()??e(!1)},get areSubmitted(){return S?.()??e(!1)},get errors(){return _?.()??e(null)},markDirty(C,A){oe(()=>{Object.values(r.controls).forEach(v=>{v.markDirty(C),!(!A?.deep||!xe(v))&&v.children.markDirty(C,A)})})},markDisabled(C,A){oe(()=>{Object.values(r.controls).forEach(v=>{v.markDisabled(C),!(!A?.deep||!xe(v))&&v.children.markDisabled(C,A)})})},markPending(C,A){oe(()=>{Object.values(r.controls).forEach(v=>{v.markPending(C,A),!(!A?.deep||!xe(v))&&v.children.markPending(C,A)})})},markReadonly(C,A){oe(()=>{Object.values(r.controls).forEach(v=>{v.markReadonly(C),!(!A?.deep||!xe(v))&&v.children.markReadonly(C,A)})})},markRequired(C,A){oe(()=>{Object.values(r.controls).forEach(v=>{v.markRequired(C),!(!A?.deep||!xe(v))&&v.children.markRequired(C,A)})})},markSubmitted(C,A){oe(()=>{Object.values(r.controls).forEach(v=>{v.markSubmitted(C),!(!A?.deep||!xe(v))&&v.children.markSubmitted(C,A)})})},markTouched(C,A){oe(()=>{Object.values(r.controls).forEach(v=>{v.markTouched(C),!(!A?.deep||!xe(v))&&v.children.markTouched(C,A)})})}},setControls(C){Q(r.controls,C)||s(ie(A=>{A.controls=C}))},removeControl(C){if(!bs(C)){r.setControl(C,null);return}const A=C;for(const[v,I]of Object.entries(r.controls))if(I===A){r.setControl(v,null);return}},setValue(C){const A=Object.entries(C);if(A.length!==r.size)throw new Error("setValue error: you must provide a value for each control.");oe(()=>{for(const[v,I]of A){const V=r.controls[v];if(!V)throw new Error(`Invalid setValue value key "${v}".`);V.setValue(I)}})},patchValue(C){oe(()=>{for(const[A,v]of Object.entries(C)){const I=r.controls[A];if(!I)throw new Error(`Invalid patchValue value key "${A}".`);xe(I)?I.patchValue(v):I.setValue(v)}})}}),()=>{[r,s]=t(),i();const C=D(()=>Object.values(r.controls)),A=D(()=>C().filter(v=>!v.isDisabled));a=D(()=>C().length),l=D(()=>A().some(v=>v.isValid)),d=D(()=>C().some(v=>v.isDisabled)),c=D(()=>A().some(v=>v.isReadonly)),u=D(()=>A().some(v=>v.isRequired)),f=D(()=>A().some(v=>v.isPending)),h=D(()=>A().some(v=>v.isTouched)),g=D(()=>A().some(v=>v.isDirty)),m=D(()=>A().some(v=>v.isSubmitted)),b=D(()=>A().every(v=>v.isValid)),y=D(()=>{const v=C();return v.length===0?!1:v.every(I=>I.isDisabled)}),p=D(()=>{const v=A();return v.length===0?!1:v.every(I=>I.isReadonly)}),w=D(()=>{const v=A();return v.length===0?!1:v.every(I=>I.isRequired)}),P=D(()=>{const v=A();return v.length===0?!1:v.every(I=>I.isPending)}),k=D(()=>{const v=A();return v.length===0?!1:v.every(I=>I.isTouched)}),x=D(()=>{const v=A();return v.length===0?!1:v.every(I=>I.isDirty)}),S=D(()=>{const v=A();return v.length===0?!1:v.every(I=>I.isSubmitted)}),T=D(()=>!r.self.errors&&!r.children.errors?null:{...r.children.errors,...r.self.errors}),_=D(()=>A().reduce((I,V)=>I===null&&V.errors===null?null:{...I,...V.errors},null))}]}const Mi="@@FormGroupInterface_solidjs";function Ii(t={},e={}){let n,r;const[s,o]=ws(),[i,a]=Ki(()=>[n,r],s,e);let l,d;const c=dr(i,{[fr]:!0,[vs]:!0,[Mi]:!0,controls:t,get rawValue(){return l?.()??s({})},get value(){return d?.()??s({})},setControl(h,g){(g===null?!n.controls[h]:Q(n.controls[h],g))||r(ie(m=>{g===null?delete m.controls[h]:m.controls[h]=g}))}});[n,r]=ps(c),a();const u=D(()=>Object.entries(n.controls)),f=D(()=>u().filter(([,h])=>!h.isDisabled));return l=D(()=>Object.fromEntries(u().map(([h,g])=>[h,g.rawValue]))),d=D(()=>Object.fromEntries(f().map(([h,g])=>[h,g.value]))),o(),e.disabled&&n.markDisabled(e.disabled),e.touched&&n.markTouched(e.touched),e.dirty&&n.markDirty(e.dirty),e.readonly&&n.markReadonly(e.readonly),e.submitted&&n.markSubmitted(e.submitted),e.required&&n.markRequired(e.required),e.pending&&n.markPending(e.pending),e.validators&&n.setValidators(e.validators),e.pending&&n.markPending(e.pending),e.errors&&n.patchErrors(e.errors),n}const Bi=t=>R($i,{class:"wrapper-input",get children(){return R(Ni,{get type(){return t.type},get disabled(){return t.disabled},get onClick(){return t.onClick},get children(){return t.placeholder}})}}),$i=q("div")``,Ni=q("button")`
  border: 2px solid var(--mainColor);
  transition: background-color 0.25s;
  &:hover {
    background-color: var(--mainColor);
    color: white;
  }
`,Fi=t=>{const e=ye({control:We("")},t);return R(Li,{class:"wrapper-input",get error(){return e.errorMessage},get children(){return[R(qi,{type:"email",placeholder:" ",get id(){return e.name},get name(){return e.name},get value(){return e.control.value},onInput:n=>{e.control.setValue(n.target.value)},onBlur:()=>t.control.markTouched(!0)}),R(Vi,{get for(){return e.name},get children(){return e.placeholder}}),R(Ui,{get children(){return R(mn,{get when(){return t.control.isTouched&&t.control.errors},get children(){return e.control.errors.errorMessage}})}})]}})},Li=q("div")`
  input {
    border-bottom: 2px solid
      ${t=>t.error?"var(--thirdColor)":"var(--mainColor)"};
  }
`,qi=q("input")``,Vi=q("label")``,Ui=q("div")`
  color: var(--thirdColor);
`,zi=""+new URL("copy-ico-d69906cc.svg",import.meta.url).href,Wi=t=>{const e=ye({control:We("")},t);return R(Hi,{class:"wrapper-input",get children(){return[R(Gi,{type:"text",placeholder:" ",get id(){return t.name},get name(){return t.name},get value(){return e.control.value},get readonly(){return e.control.isReadonly},onInput:n=>{e.control.setValue(n.target.value)},get disabled(){return e.control.isDisabled}}),R(Yi,{get for(){return t.name},get children(){return t.placeholder}}),R(Xi,{get visibility(){return!!e.control.value},src:zi,onClick:()=>navigator.clipboard.writeText(e.control.value)})]}})},Hi=q("div")``,Gi=q("input")`
  border: 2px solid var(--mainColor);
  border-right: none;
  padding-left: 40px;
`,Yi=q("label")`
  padding-top: 2px;
`,Xi=q("img")`
  cursor: pointer;
  visibility: ${t=>t.visibility?"visible":"hidden"};
  position: absolute;
  width: 20px;
  top: 10px;
  left: 10px;
`,Qi=""+new URL("image-ico-acd132cf.svg",import.meta.url).href,Ji=Pt("<img>",1),Zi=t=>{const e=ye({control:We("")},t),n=()=>{const r=e.control.value.length;return r===0?e.placeholder:`Selected ${r} image${r==1?"":"s"}`};return R(ea,{class:"wrapper-input",get error(){return t.control.isTouched&&e.errorMessage},get children(){return[R(ta,{type:"file",placeholder:" ",get name(){return e.name},get id(){return e.name},get files(){return e.control.value},onInput:r=>{e.control.setValue(r.target.files)},onChange:()=>t.control.markTouched(!0),accept:"image/png, image/jpeg",multiple:!0}),R(na,{get for(){return e.name},class:"filesField",get children(){return[(()=>{const r=Ji.cloneNode(!0);return pt(r,"src",Qi),r})(),D(()=>n())]}}),R(ra,{get children(){return R(mn,{get when(){return t.control.isTouched&&t.control.errors},get children(){return e.control.errors.errorMessage}})}})]}})},ea=q("div")`
  img {
    position: absolute;
    top: 10px;
    left: 10px;
  }
  label:hover > img {
    filter: invert();
  }
  label {
    border: 2px solid
      ${t=>t.error?"var(--thirdColor)":"var(--mainColor)"};
    &:hover {
      background-color: ${t=>t.error?"var(--thirdColor)":"var(--mainColor)"};
    }
  }
`,ta=q("input")`
  display: none;
`,na=q("label")`
  display: block;
  padding: 6px;
  text-align: center;
  width: 100%;
  font-size: 18px;
  cursor: pointer;
  transition: background-color 0.25s;
  &:hover {
    color: white;
  }
`,ra=q("div")`
  color: var(--thirdColor);
`,Rr=""+new URL("arrow-7fb9588e.svg",import.meta.url).href,Tr=Pt("<img>",1),sa=t=>{const[e,n]=pe(0);let r,s;const o=()=>t.imageList||[];return gt(un(o,()=>n(0))),gt(()=>{const i=o().length;s.disabled=!0,r.disabled=!0,e()!==0&&(s.disabled=!1),e()<i-1&&(r.disabled=!1)}),R(oa,{get children(){return[R(ia,{get src(){return o()[e()]}}),R(Kr,{type:"button",class:"prev",ref(i){const a=s;typeof a=="function"?a(i):s=i},onClick:()=>n(e()-1),get children(){const i=Tr.cloneNode(!0);return pt(i,"src",Rr),i}}),R(Kr,{type:"button",class:"next",ref(i){const a=r;typeof a=="function"?a(i):r=i},onClick:()=>n(e()+1),get children(){const i=Tr.cloneNode(!0);return pt(i,"src",Rr),i}})]}})},oa=q("div")`
  width: 678px;
  aspect-ratio: 4 / 3;
  background: var(--secondaryColor);
  position: relative;
  display: flex;
  justify-content: center;
`,ia=q("img")`
  max-width: 100%;
  max-height: 100%;
  align-self: center;
`,Kr=q("button")`
  position: absolute;
  display: flex;
  top: calc(50% - 30px / 2);
  width: 30px;
  height: 30px;
  padding: 0;
  align-items: center;
  justify-content: center;
  opacity: 0.5;
  transition: opacity linear 0.25s;
  background-color: var(--mainColor);
  &:not(:disabled):hover {
    opacity: 1;
  }
  &:disabled {
    visibility: hidden;
  }
  &.prev {
    left: 0;
    img {
      transform: scaleX(-1);
    }
  }
  &.next {
    right: 0;
  }
`,aa=t=>t?Object.values(t).map(e=>URL.createObjectURL(e)):[],la=t=>t.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),ca=async(t,e,n)=>{if(n)return new Promise(o=>{setTimeout(()=>o("3123ac123bd12cc"),1e3)});const r=new FormData;for(const o of e)r.append("files",o,o.name);return(await fetch("http://localhost:3000/api/scene-representation",{method:"POST",body:{files:r,email:t}})).json()},F=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,z=Object.keys,Y=Array.isArray;function Z(t,e){return typeof e!="object"||z(e).forEach(function(n){t[n]=e[n]}),t}typeof Promise>"u"||F.Promise||(F.Promise=Promise);const vt=Object.getPrototypeOf,ua={}.hasOwnProperty;function te(t,e){return ua.call(t,e)}function et(t,e){typeof e=="function"&&(e=e(vt(t))),(typeof Reflect>"u"?z:Reflect.ownKeys)(e).forEach(n=>{be(t,n,e[n])})}const xs=Object.defineProperty;function be(t,e,n,r){xs(t,e,Z(n&&te(n,"get")&&typeof n.get=="function"?{get:n.get,set:n.set,configurable:!0}:{value:n,configurable:!0,writable:!0},r))}function He(t){return{from:function(e){return t.prototype=Object.create(e.prototype),be(t.prototype,"constructor",t),{extend:et.bind(null,t.prototype)}}}}const fa=Object.getOwnPropertyDescriptor;function hr(t,e){let n;return fa(t,e)||(n=vt(t))&&hr(n,e)}const da=[].slice;function en(t,e,n){return da.call(t,e,n)}function ks(t,e){return e(t)}function at(t){if(!t)throw new Error("Assertion Failed")}function Ss(t){F.setImmediate?setImmediate(t):setTimeout(t,0)}function Ps(t,e){return t.reduce((n,r,s)=>{var o=e(r,s);return o&&(n[o[0]]=o[1]),n},{})}function ve(t,e){if(te(t,e))return t[e];if(!e)return t;if(typeof e!="string"){for(var n=[],r=0,s=e.length;r<s;++r){var o=ve(t,e[r]);n.push(o)}return n}var i=e.indexOf(".");if(i!==-1){var a=t[e.substr(0,i)];return a===void 0?void 0:ve(a,e.substr(i+1))}}function re(t,e,n){if(t&&e!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(t)))if(typeof e!="string"&&"length"in e){at(typeof n!="string"&&"length"in n);for(var r=0,s=e.length;r<s;++r)re(t,e[r],n[r])}else{var o=e.indexOf(".");if(o!==-1){var i=e.substr(0,o),a=e.substr(o+1);if(a==="")n===void 0?Y(t)&&!isNaN(parseInt(i))?t.splice(i,1):delete t[i]:t[i]=n;else{var l=t[i];l&&te(t,i)||(l=t[i]={}),re(l,a,n)}}else n===void 0?Y(t)&&!isNaN(parseInt(e))?t.splice(e,1):delete t[e]:t[e]=n}}function As(t){var e={};for(var n in t)te(t,n)&&(e[n]=t[n]);return e}const ha=[].concat;function Es(t){return ha.apply([],t)}const Cs="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Es([8,16,32,64].map(t=>["Int","Uint","Float"].map(e=>e+t+"Array")))).filter(t=>F[t]),ma=Cs.map(t=>F[t]);Ps(Cs,t=>[t,!0]);let Se=null;function Et(t){Se=typeof WeakMap<"u"&&new WeakMap;const e=Tn(t);return Se=null,e}function Tn(t){if(!t||typeof t!="object")return t;let e=Se&&Se.get(t);if(e)return e;if(Y(t)){e=[],Se&&Se.set(t,e);for(var n=0,r=t.length;n<r;++n)e.push(Tn(t[n]))}else if(ma.indexOf(t.constructor)>=0)e=t;else{const o=vt(t);for(var s in e=o===Object.prototype?{}:Object.create(o),Se&&Se.set(t,e),t)te(t,s)&&(e[s]=Tn(t[s]))}return e}const{toString:ga}={};function Kn(t){return ga.call(t).slice(8,-1)}const Mn=typeof Symbol<"u"?Symbol.iterator:"@@iterator",pa=typeof Mn=="symbol"?function(t){var e;return t!=null&&(e=t[Mn])&&e.apply(t)}:function(){return null},ze={};function he(t){var e,n,r,s;if(arguments.length===1){if(Y(t))return t.slice();if(this===ze&&typeof t=="string")return[t];if(s=pa(t)){for(n=[];!(r=s.next()).done;)n.push(r.value);return n}if(t==null)return[t];if(typeof(e=t.length)=="number"){for(n=new Array(e);e--;)n[e]=t[e];return n}return[t]}for(e=arguments.length,n=new Array(e);e--;)n[e]=arguments[e];return n}const mr=typeof Symbol<"u"?t=>t[Symbol.toStringTag]==="AsyncFunction":()=>!1;var le=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Os(t,e){le=t,js=e}var js=()=>!0;const ya=!new Error("").stack;function Le(){if(ya)try{throw Le.arguments,new Error}catch(t){return t}return new Error}function In(t,e){var n=t.stack;return n?(e=e||0,n.indexOf(t.name)===0&&(e+=(t.name+t.message).split(`
`).length),n.split(`
`).slice(e).filter(js).map(r=>`
`+r).join("")):""}var Ds=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],gr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ds),ba={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ge(t,e){this._e=Le(),this.name=t,this.message=e}function Rs(t,e){return t+". Errors: "+Object.keys(e).map(n=>e[n].toString()).filter((n,r,s)=>s.indexOf(n)===r).join(`
`)}function tn(t,e,n,r){this._e=Le(),this.failures=e,this.failedKeys=r,this.successCount=n,this.message=Rs(t,e)}function ut(t,e){this._e=Le(),this.name="BulkError",this.failures=Object.keys(e).map(n=>e[n]),this.failuresByPos=e,this.message=Rs(t,e)}He(Ge).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+In(this._e,2))}},toString:function(){return this.name+": "+this.message}}),He(tn).from(Ge),He(ut).from(Ge);var pr=gr.reduce((t,e)=>(t[e]=e+"Error",t),{});const va=Ge;var K=gr.reduce((t,e)=>{var n=e+"Error";function r(s,o){this._e=Le(),this.name=n,s?typeof s=="string"?(this.message=`${s}${o?`
 `+o:""}`,this.inner=o||null):typeof s=="object"&&(this.message=`${s.name} ${s.message}`,this.inner=s):(this.message=ba[e]||n,this.inner=null)}return He(r).from(va),t[e]=r,t},{});K.Syntax=SyntaxError,K.Type=TypeError,K.Range=RangeError;var Mr=Ds.reduce((t,e)=>(t[e+"Error"]=K[e],t),{}),Nt=gr.reduce((t,e)=>(["Syntax","Type","Range"].indexOf(e)===-1&&(t[e+"Error"]=K[e]),t),{});function $(){}function wt(t){return t}function wa(t,e){return t==null||t===wt?e:function(n){return e(t(n))}}function Ne(t,e){return function(){t.apply(this,arguments),e.apply(this,arguments)}}function _a(t,e){return t===$?e:function(){var n=t.apply(this,arguments);n!==void 0&&(arguments[0]=n);var r=this.onsuccess,s=this.onerror;this.onsuccess=null,this.onerror=null;var o=e.apply(this,arguments);return r&&(this.onsuccess=this.onsuccess?Ne(r,this.onsuccess):r),s&&(this.onerror=this.onerror?Ne(s,this.onerror):s),o!==void 0?o:n}}function xa(t,e){return t===$?e:function(){t.apply(this,arguments);var n=this.onsuccess,r=this.onerror;this.onsuccess=this.onerror=null,e.apply(this,arguments),n&&(this.onsuccess=this.onsuccess?Ne(n,this.onsuccess):n),r&&(this.onerror=this.onerror?Ne(r,this.onerror):r)}}function ka(t,e){return t===$?e:function(n){var r=t.apply(this,arguments);Z(n,r);var s=this.onsuccess,o=this.onerror;this.onsuccess=null,this.onerror=null;var i=e.apply(this,arguments);return s&&(this.onsuccess=this.onsuccess?Ne(s,this.onsuccess):s),o&&(this.onerror=this.onerror?Ne(o,this.onerror):o),r===void 0?i===void 0?void 0:i:Z(r,i)}}function Sa(t,e){return t===$?e:function(){return e.apply(this,arguments)!==!1&&t.apply(this,arguments)}}function yr(t,e){return t===$?e:function(){var n=t.apply(this,arguments);if(n&&typeof n.then=="function"){for(var r=this,s=arguments.length,o=new Array(s);s--;)o[s]=arguments[s];return n.then(function(){return e.apply(r,o)})}return e.apply(this,arguments)}}Nt.ModifyError=tn,Nt.DexieError=Ge,Nt.BulkError=ut;var _t={};const[Bn,nn,$n]=typeof Promise>"u"?[]:(()=>{let t=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[t,vt(t),t];const e=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[e,vt(e),t]})(),Ts=nn&&nn.then,Ft=Bn&&Bn.constructor,br=!!$n;var Nn=!1,Pa=$n?()=>{$n.then(Dt)}:F.setImmediate?setImmediate.bind(null,Dt):F.MutationObserver?()=>{var t=document.createElement("div");new MutationObserver(()=>{Dt(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:()=>{setTimeout(Dt,0)},ft=function(t,e){lt.push([t,e]),rn&&(Pa(),rn=!1)},Fn=!0,rn=!0,Ie=[],Lt=[],Ln=null,qn=wt,Ye={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Br,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(t=>{try{Br(t[0],t[1])}catch{}})}},j=Ye,lt=[],Be=0,qt=[];function E(t){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=$,this._lib=!1;var e=this._PSD=j;if(le&&(this._stackHolder=Le(),this._prev=null,this._numPrev=0),typeof t!="function"){if(t!==_t)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Un(this,this._value))}this._state=null,this._value=null,++e.ref,Ms(this,t)}const Vn={get:function(){var t=j,e=sn;function n(r,s){var o=!t.global&&(t!==j||e!==sn);const i=o&&!we();var a=new E((l,d)=>{vr(this,new Ks(on(r,t,o,i),on(s,t,o,i),l,d,t))});return le&&$s(a,this),a}return n.prototype=_t,n},set:function(t){be(this,"then",t&&t.prototype===_t?Vn:{get:function(){return t},set:Vn.set})}};function Ks(t,e,n,r,s){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.resolve=n,this.reject=r,this.psd=s}function Ms(t,e){try{e(n=>{if(t._state===null){if(n===t)throw new TypeError("A promise cannot be resolved with itself.");var r=t._lib&&Ct();n&&typeof n.then=="function"?Ms(t,(s,o)=>{n instanceof E?n._then(s,o):n.then(s,o)}):(t._state=!0,t._value=n,Is(t)),r&&Ot()}},Un.bind(null,t))}catch(n){Un(t,n)}}function Un(t,e){if(Lt.push(e),t._state===null){var n=t._lib&&Ct();e=qn(e),t._state=!1,t._value=e,le&&e!==null&&typeof e=="object"&&!e._promise&&function(r,s,o){try{r.apply(null,o)}catch(i){s&&s(i)}}(()=>{var r=hr(e,"stack");e._promise=t,be(e,"stack",{get:()=>Nn?r&&(r.get?r.get.apply(e):r.value):t.stack})}),function(r){Ie.some(s=>s._value===r._value)||Ie.push(r)}(t),Is(t),n&&Ot()}}function Is(t){var e=t._listeners;t._listeners=[];for(var n=0,r=e.length;n<r;++n)vr(t,e[n]);var s=t._PSD;--s.ref||s.finalize(),Be===0&&(++Be,ft(()=>{--Be==0&&wr()},[]))}function vr(t,e){if(t._state!==null){var n=t._state?e.onFulfilled:e.onRejected;if(n===null)return(t._state?e.resolve:e.reject)(t._value);++e.psd.ref,++Be,ft(Aa,[n,t,e])}else t._listeners.push(e)}function Aa(t,e,n){try{Ln=e;var r,s=e._value;e._state?r=t(s):(Lt.length&&(Lt=[]),r=t(s),Lt.indexOf(s)===-1&&function(o){for(var i=Ie.length;i;)if(Ie[--i]._value===o._value)return void Ie.splice(i,1)}(e)),n.resolve(r)}catch(o){n.reject(o)}finally{Ln=null,--Be==0&&wr(),--n.psd.ref||n.psd.finalize()}}function Bs(t,e,n){if(e.length===n)return e;var r="";if(t._state===!1){var s,o,i=t._value;i!=null?(s=i.name||"Error",o=i.message||i,r=In(i,0)):(s=i,o=""),e.push(s+(o?": "+o:"")+r)}return le&&((r=In(t._stackHolder,2))&&e.indexOf(r)===-1&&e.push(r),t._prev&&Bs(t._prev,e,n)),e}function $s(t,e){var n=e?e._numPrev+1:0;n<100&&(t._prev=e,t._numPrev=n)}function Dt(){Ct()&&Ot()}function Ct(){var t=Fn;return Fn=!1,rn=!1,t}function Ot(){var t,e,n;do for(;lt.length>0;)for(t=lt,lt=[],n=t.length,e=0;e<n;++e){var r=t[e];r[0].apply(null,r[1])}while(lt.length>0);Fn=!0,rn=!0}function wr(){var t=Ie;Ie=[],t.forEach(r=>{r._PSD.onunhandled.call(null,r._value,r)});for(var e=qt.slice(0),n=e.length;n;)e[--n]()}function Rt(t){return new E(_t,!1,t)}function L(t,e){var n=j;return function(){var r=Ct(),s=j;try{return Ee(n,!0),t.apply(this,arguments)}catch(o){e&&e(o)}finally{Ee(s,!1),r&&Ot()}}}et(E.prototype,{then:Vn,_then:function(t,e){vr(this,new Ks(null,null,t,e,j))},catch:function(t){if(arguments.length===1)return this.then(null,t);var e=arguments[0],n=arguments[1];return typeof e=="function"?this.then(null,r=>r instanceof e?n(r):Rt(r)):this.then(null,r=>r&&r.name===e?n(r):Rt(r))},finally:function(t){return this.then(e=>(t(),e),e=>(t(),Rt(e)))},stack:{get:function(){if(this._stack)return this._stack;try{Nn=!0;var t=Bs(this,[],20).join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Nn=!1}}},timeout:function(t,e){return t<1/0?new E((n,r)=>{var s=setTimeout(()=>r(new K.Timeout(e)),t);this.then(n,r).finally(clearTimeout.bind(null,s))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&be(E.prototype,Symbol.toStringTag,"Dexie.Promise"),Ye.env=Ns(),et(E,{all:function(){var t=he.apply(null,arguments).map(Tt);return new E(function(e,n){t.length===0&&e([]);var r=t.length;t.forEach((s,o)=>E.resolve(s).then(i=>{t[o]=i,--r||e(t)},n))})},resolve:t=>{if(t instanceof E)return t;if(t&&typeof t.then=="function")return new E((n,r)=>{t.then(n,r)});var e=new E(_t,!0,t);return $s(e,Ln),e},reject:Rt,race:function(){var t=he.apply(null,arguments).map(Tt);return new E((e,n)=>{t.map(r=>E.resolve(r).then(e,n))})},PSD:{get:()=>j,set:t=>j=t},totalEchoes:{get:()=>sn},newPSD:Ae,usePSD:rt,scheduler:{get:()=>ft,set:t=>{ft=t}},rejectionMapper:{get:()=>qn,set:t=>{qn=t}},follow:(t,e)=>new E((n,r)=>Ae((s,o)=>{var i=j;i.unhandleds=[],i.onunhandled=o,i.finalize=Ne(function(){(function(a){function l(){a(),qt.splice(qt.indexOf(l),1)}qt.push(l),++Be,ft(()=>{--Be==0&&wr()},[])})(()=>{this.unhandleds.length===0?s():o(this.unhandleds[0])})},i.finalize),t()},e,n,r))}),Ft&&(Ft.allSettled&&be(E,"allSettled",function(){const t=he.apply(null,arguments).map(Tt);return new E(e=>{t.length===0&&e([]);let n=t.length;const r=new Array(n);t.forEach((s,o)=>E.resolve(s).then(i=>r[o]={status:"fulfilled",value:i},i=>r[o]={status:"rejected",reason:i}).then(()=>--n||e(r)))})}),Ft.any&&typeof AggregateError<"u"&&be(E,"any",function(){const t=he.apply(null,arguments).map(Tt);return new E((e,n)=>{t.length===0&&n(new AggregateError([]));let r=t.length;const s=new Array(r);t.forEach((o,i)=>E.resolve(o).then(a=>e(a),a=>{s[i]=a,--r||n(new AggregateError(s))}))})}));const G={awaits:0,echoes:0,id:0};var Ea=0,Vt=[],_n=0,sn=0,Ca=0;function Ae(t,e,n,r){var s=j,o=Object.create(s);o.parent=s,o.ref=0,o.global=!1,o.id=++Ca;var i=Ye.env;o.env=br?{Promise:E,PromiseProp:{value:E,configurable:!0,writable:!0},all:E.all,race:E.race,allSettled:E.allSettled,any:E.any,resolve:E.resolve,reject:E.reject,nthen:Ir(i.nthen,o),gthen:Ir(i.gthen,o)}:{},e&&Z(o,e),++s.ref,o.finalize=function(){--this.parent.ref||this.parent.finalize()};var a=rt(o,t,n,r);return o.ref===0&&o.finalize(),a}function nt(){return G.id||(G.id=++Ea),++G.awaits,G.echoes+=100,G.id}function we(){return!!G.awaits&&(--G.awaits==0&&(G.id=0),G.echoes=100*G.awaits,!0)}function Tt(t){return G.echoes&&t&&t.constructor===Ft?(nt(),t.then(e=>(we(),e),e=>(we(),W(e)))):t}function Oa(t){++sn,G.echoes&&--G.echoes!=0||(G.echoes=G.id=0),Vt.push(j),Ee(t,!0)}function ja(){var t=Vt[Vt.length-1];Vt.pop(),Ee(t,!1)}function Ee(t,e){var n=j;if((e?!G.echoes||_n++&&t===j:!_n||--_n&&t===j)||Fs(e?Oa.bind(null,t):ja),t!==j&&(j=t,n===Ye&&(Ye.env=Ns()),br)){var r=Ye.env.Promise,s=t.env;nn.then=s.nthen,r.prototype.then=s.gthen,(n.global||t.global)&&(Object.defineProperty(F,"Promise",s.PromiseProp),r.all=s.all,r.race=s.race,r.resolve=s.resolve,r.reject=s.reject,s.allSettled&&(r.allSettled=s.allSettled),s.any&&(r.any=s.any))}}function Ns(){var t=F.Promise;return br?{Promise:t,PromiseProp:Object.getOwnPropertyDescriptor(F,"Promise"),all:t.all,race:t.race,allSettled:t.allSettled,any:t.any,resolve:t.resolve,reject:t.reject,nthen:nn.then,gthen:t.prototype.then}:{}}function rt(t,e,n,r,s){var o=j;try{return Ee(t,!0),e(n,r,s)}finally{Ee(o,!1)}}function Fs(t){Ts.call(Bn,t)}function on(t,e,n,r){return typeof t!="function"?t:function(){var s=j;n&&nt(),Ee(e,!0);try{return t.apply(this,arguments)}finally{Ee(s,!1),r&&Fs(we)}}}function Ir(t,e){return function(n,r){return t.call(this,on(n,e),on(r,e))}}(""+Ts).indexOf("[native code]")===-1&&(nt=we=$);function Br(t,e){var n;try{n=e.onuncatched(t)}catch{}if(n!==!1)try{var r,s={promise:e,reason:t};if(F.document&&document.createEvent?((r=document.createEvent("Event")).initEvent("unhandledrejection",!0,!0),Z(r,s)):F.CustomEvent&&Z(r=new CustomEvent("unhandledrejection",{detail:s}),s),r&&F.dispatchEvent&&(dispatchEvent(r),!F.PromiseRejectionEvent&&F.onunhandledrejection))try{F.onunhandledrejection(r)}catch{}le&&r&&!r.defaultPrevented&&console.warn(`Unhandled rejection: ${t.stack||t}`)}catch{}}var W=E.reject;function zn(t,e,n,r){if(t.idbdb&&(t._state.openComplete||j.letThrough||t._vip)){var s=t._createTransaction(e,n,t._dbSchema);try{s.create(),t._state.PR1398_maxLoop=3}catch(o){return o.name===pr.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>zn(t,e,n,r))):W(o)}return s._promise(e,(o,i)=>Ae(()=>(j.trans=s,r(o,i,s)))).then(o=>s._completion.then(()=>o))}if(t._state.openComplete)return W(new K.DatabaseClosed(t._state.dbOpenError));if(!t._state.isBeingOpened){if(!t._options.autoOpen)return W(new K.DatabaseClosed);t.open().catch($)}return t._state.dbReadyPromise.then(()=>zn(t,e,n,r))}const Te=String.fromCharCode(65535),fe="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",dt=[],pn=typeof navigator<"u"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),Da=pn,Ra=pn,Ls=t=>!/(dexie\.js|dexie\.min\.js)/.test(t);function Fe(t,e){return t?e?function(){return t.apply(this,arguments)&&e.apply(this,arguments)}:t:e}const qs={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Kt(t){return typeof t!="string"||/\./.test(t)?e=>e:e=>(e[t]===void 0&&t in e&&delete(e=Et(e))[t],e)}class Ta{_trans(e,n,r){const s=this._tx||j.trans,o=this.name;function i(l,d,c){if(!c.schema[o])throw new K.NotFound("Table "+o+" not part of transaction");return n(c.idbtrans,c)}const a=Ct();try{return s&&s.db===this.db?s===j.trans?s._promise(e,i,r):Ae(()=>s._promise(e,i,r),{trans:s,transless:j.transless||j}):zn(this.db,e,[this.name],i)}finally{a&&Ot()}}get(e,n){return e&&e.constructor===Object?this.where(e).first(n):this._trans("readonly",r=>this.core.get({trans:r,key:e}).then(s=>this.hook.reading.fire(s))).then(n)}where(e){if(typeof e=="string")return new this.db.WhereClause(this,e);if(Y(e))return new this.db.WhereClause(this,`[${e.join("+")}]`);const n=z(e);if(n.length===1)return this.where(n[0]).equals(e[n[0]]);const r=this.schema.indexes.concat(this.schema.primKey).filter(d=>d.compound&&n.every(c=>d.keyPath.indexOf(c)>=0)&&d.keyPath.every(c=>n.indexOf(c)>=0))[0];if(r&&this.db._maxKey!==Te)return this.where(r.name).equals(r.keyPath.map(d=>e[d]));!r&&le&&console.warn(`The query ${JSON.stringify(e)} on ${this.name} would benefit of a compound index [${n.join("+")}]`);const{idxByName:s}=this.schema,o=this.db._deps.indexedDB;function i(d,c){try{return o.cmp(d,c)===0}catch{return!1}}const[a,l]=n.reduce(([d,c],u)=>{const f=s[u],h=e[u];return[d||f,d||!f?Fe(c,f&&f.multi?g=>{const m=ve(g,u);return Y(m)&&m.some(b=>i(h,b))}:g=>i(h,ve(g,u))):c]},[null,null]);return a?this.where(a.name).equals(e[a.keyPath]).filter(l):r?this.filter(l):this.where(n).equals("")}filter(e){return this.toCollection().and(e)}count(e){return this.toCollection().count(e)}offset(e){return this.toCollection().offset(e)}limit(e){return this.toCollection().limit(e)}each(e){return this.toCollection().each(e)}toArray(e){return this.toCollection().toArray(e)}toCollection(){return new this.db.Collection(new this.db.WhereClause(this))}orderBy(e){return new this.db.Collection(new this.db.WhereClause(this,Y(e)?`[${e.join("+")}]`:e))}reverse(){return this.toCollection().reverse()}mapToClass(e){this.schema.mappedClass=e;const n=r=>{if(!r)return r;const s=Object.create(e.prototype);for(var o in r)if(te(r,o))try{s[o]=r[o]}catch{}return s};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=n,this.hook("reading",n),e}defineClass(){return this.mapToClass(function(e){Z(this,e)})}add(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let o=e;return s&&r&&(o=Kt(s)(e)),this._trans("readwrite",i=>this.core.mutate({trans:i,type:"add",keys:n!=null?[n]:null,values:[o]})).then(i=>i.numFailures?E.reject(i.failures[0]):i.lastResult).then(i=>{if(s)try{re(e,s,i)}catch{}return i})}update(e,n){if(typeof e!="object"||Y(e))return this.where(":id").equals(e).modify(n);{const r=ve(e,this.schema.primKey.keyPath);if(r===void 0)return W(new K.InvalidArgument("Given object does not contain its primary key"));try{typeof n!="function"?z(n).forEach(s=>{re(e,s,n[s])}):n(e,{value:e,primKey:r})}catch{}return this.where(":id").equals(r).modify(n)}}put(e,n){const{auto:r,keyPath:s}=this.schema.primKey;let o=e;return s&&r&&(o=Kt(s)(e)),this._trans("readwrite",i=>this.core.mutate({trans:i,type:"put",values:[o],keys:n!=null?[n]:null})).then(i=>i.numFailures?E.reject(i.failures[0]):i.lastResult).then(i=>{if(s)try{re(e,s,i)}catch{}return i})}delete(e){return this._trans("readwrite",n=>this.core.mutate({trans:n,type:"delete",keys:[e]})).then(n=>n.numFailures?E.reject(n.failures[0]):void 0)}clear(){return this._trans("readwrite",e=>this.core.mutate({trans:e,type:"deleteRange",range:qs})).then(e=>e.numFailures?E.reject(e.failures[0]):void 0)}bulkGet(e){return this._trans("readonly",n=>this.core.getMany({keys:e,trans:n}).then(r=>r.map(s=>this.hook.reading.fire(s))))}bulkAdd(e,n,r){const s=Array.isArray(n)?n:void 0,o=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",i=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&s)throw new K.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let c=l&&a?e.map(Kt(l)):e;return this.core.mutate({trans:i,type:"add",keys:s,values:c,wantResults:o}).then(({numFailures:u,results:f,lastResult:h,failures:g})=>{if(u===0)return o?f:h;throw new ut(`${this.name}.bulkAdd(): ${u} of ${d} operations failed`,g)})})}bulkPut(e,n,r){const s=Array.isArray(n)?n:void 0,o=(r=r||(s?void 0:n))?r.allKeys:void 0;return this._trans("readwrite",i=>{const{auto:a,keyPath:l}=this.schema.primKey;if(l&&s)throw new K.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(s&&s.length!==e.length)throw new K.InvalidArgument("Arguments objects and keys must have the same length");const d=e.length;let c=l&&a?e.map(Kt(l)):e;return this.core.mutate({trans:i,type:"put",keys:s,values:c,wantResults:o}).then(({numFailures:u,results:f,lastResult:h,failures:g})=>{if(u===0)return o?f:h;throw new ut(`${this.name}.bulkPut(): ${u} of ${d} operations failed`,g)})})}bulkDelete(e){const n=e.length;return this._trans("readwrite",r=>this.core.mutate({trans:r,type:"delete",keys:e})).then(({numFailures:r,lastResult:s,failures:o})=>{if(r===0)return s;throw new ut(`${this.name}.bulkDelete(): ${r} of ${n} operations failed`,o)})}}function ht(t){var e={},n=function(a,l){if(l){for(var d=arguments.length,c=new Array(d-1);--d;)c[d-1]=arguments[d];return e[a].subscribe.apply(null,c),t}if(typeof a=="string")return e[a]};n.addEventType=o;for(var r=1,s=arguments.length;r<s;++r)o(arguments[r]);return n;function o(a,l,d){if(typeof a=="object")return i(a);l||(l=Sa),d||(d=$);var c={subscribers:[],fire:d,subscribe:function(u){c.subscribers.indexOf(u)===-1&&(c.subscribers.push(u),c.fire=l(c.fire,u))},unsubscribe:function(u){c.subscribers=c.subscribers.filter(function(f){return f!==u}),c.fire=c.subscribers.reduce(l,d)}};return e[a]=n[a]=c,c}function i(a){z(a).forEach(function(l){var d=a[l];if(Y(d))o(l,a[l][0],a[l][1]);else{if(d!=="asap")throw new K.InvalidArgument("Invalid event config");var c=o(l,wt,function(){for(var u=arguments.length,f=new Array(u);u--;)f[u]=arguments[u];c.subscribers.forEach(function(h){Ss(function(){h.apply(null,f)})})})}})}}function ot(t,e){return He(e).from({prototype:t}),e}function Ve(t,e){return!(t.filter||t.algorithm||t.or)&&(e?t.justLimit:!t.replayFilter)}function xn(t,e){t.filter=Fe(t.filter,e)}function kn(t,e,n){var r=t.replayFilter;t.replayFilter=r?()=>Fe(r(),e()):e,t.justLimit=n&&!r}function Ut(t,e){if(t.isPrimKey)return e.primaryKey;const n=e.getIndexByKeyPath(t.index);if(!n)throw new K.Schema("KeyPath "+t.index+" on object store "+e.name+" is not indexed");return n}function $r(t,e,n){const r=Ut(t,e.schema);return e.openCursor({trans:n,values:!t.keysOnly,reverse:t.dir==="prev",unique:!!t.unique,query:{index:r,range:t.range}})}function Mt(t,e,n,r){const s=t.replayFilter?Fe(t.filter,t.replayFilter()):t.filter;if(t.or){const o={},i=(a,l,d)=>{if(!s||s(l,d,f=>l.stop(f),f=>l.fail(f))){var c=l.primaryKey,u=""+c;u==="[object ArrayBuffer]"&&(u=""+new Uint8Array(c)),te(o,u)||(o[u]=!0,e(a,l,d))}};return Promise.all([t.or._iterate(i,n),Nr($r(t,r,n),t.algorithm,i,!t.keysOnly&&t.valueMapper)])}return Nr($r(t,r,n),Fe(t.algorithm,s),e,!t.keysOnly&&t.valueMapper)}function Nr(t,e,n,r){var s=L(r?(o,i,a)=>n(r(o),i,a):n);return t.then(o=>{if(o)return o.start(()=>{var i=()=>o.continue();e&&!e(o,a=>i=a,a=>{o.stop(a),i=$},a=>{o.fail(a),i=$})||s(o.value,o,a=>i=a),i()})})}function J(t,e){try{const n=Fr(t),r=Fr(e);if(n!==r)return n==="Array"?1:r==="Array"?-1:n==="binary"?1:r==="binary"?-1:n==="string"?1:r==="string"?-1:n==="Date"?1:r!=="Date"?NaN:-1;switch(n){case"number":case"Date":case"string":return t>e?1:t<e?-1:0;case"binary":return function(s,o){const i=s.length,a=o.length,l=i<a?i:a;for(let d=0;d<l;++d)if(s[d]!==o[d])return s[d]<o[d]?-1:1;return i===a?0:i<a?-1:1}(Lr(t),Lr(e));case"Array":return function(s,o){const i=s.length,a=o.length,l=i<a?i:a;for(let d=0;d<l;++d){const c=J(s[d],o[d]);if(c!==0)return c}return i===a?0:i<a?-1:1}(t,e)}}catch{}return NaN}function Fr(t){const e=typeof t;if(e!=="object")return e;if(ArrayBuffer.isView(t))return"binary";const n=Kn(t);return n==="ArrayBuffer"?"binary":n}function Lr(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(t)}class Ka{_read(e,n){var r=this._ctx;return r.error?r.table._trans(null,W.bind(null,r.error)):r.table._trans("readonly",e).then(n)}_write(e){var n=this._ctx;return n.error?n.table._trans(null,W.bind(null,n.error)):n.table._trans("readwrite",e,"locked")}_addAlgorithm(e){var n=this._ctx;n.algorithm=Fe(n.algorithm,e)}_iterate(e,n){return Mt(this._ctx,e,n,this._ctx.table.core)}clone(e){var n=Object.create(this.constructor.prototype),r=Object.create(this._ctx);return e&&Z(r,e),n._ctx=r,n}raw(){return this._ctx.valueMapper=null,this}each(e){var n=this._ctx;return this._read(r=>Mt(n,e,r,n.table.core))}count(e){return this._read(n=>{const r=this._ctx,s=r.table.core;if(Ve(r,!0))return s.count({trans:n,query:{index:Ut(r,s.schema),range:r.range}}).then(i=>Math.min(i,r.limit));var o=0;return Mt(r,()=>(++o,!1),n,s).then(()=>o)}).then(e)}sortBy(e,n){const r=e.split(".").reverse(),s=r[0],o=r.length-1;function i(d,c){return c?i(d[r[c]],c-1):d[s]}var a=this._ctx.dir==="next"?1:-1;function l(d,c){var u=i(d,o),f=i(c,o);return u<f?-a:u>f?a:0}return this.toArray(function(d){return d.sort(l)}).then(n)}toArray(e){return this._read(n=>{var r=this._ctx;if(r.dir==="next"&&Ve(r,!0)&&r.limit>0){const{valueMapper:s}=r,o=Ut(r,r.table.core.schema);return r.table.core.query({trans:n,limit:r.limit,values:!0,query:{index:o,range:r.range}}).then(({result:i})=>s?i.map(s):i)}{const s=[];return Mt(r,o=>s.push(o),n,r.table.core).then(()=>s)}},e)}offset(e){var n=this._ctx;return e<=0||(n.offset+=e,Ve(n)?kn(n,()=>{var r=e;return(s,o)=>r===0||(r===1?(--r,!1):(o(()=>{s.advance(r),r=0}),!1))}):kn(n,()=>{var r=e;return()=>--r<0})),this}limit(e){return this._ctx.limit=Math.min(this._ctx.limit,e),kn(this._ctx,()=>{var n=e;return function(r,s,o){return--n<=0&&s(o),n>=0}},!0),this}until(e,n){return xn(this._ctx,function(r,s,o){return!e(r.value)||(s(o),n)}),this}first(e){return this.limit(1).toArray(function(n){return n[0]}).then(e)}last(e){return this.reverse().first(e)}filter(e){var n,r;return xn(this._ctx,function(s){return e(s.value)}),n=this._ctx,r=e,n.isMatch=Fe(n.isMatch,r),this}and(e){return this.filter(e)}or(e){return new this.db.WhereClause(this._ctx.table,e,this)}reverse(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this}desc(){return this.reverse()}eachKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.key,s)})}eachUniqueKey(e){return this._ctx.unique="unique",this.eachKey(e)}eachPrimaryKey(e){var n=this._ctx;return n.keysOnly=!n.isMatch,this.each(function(r,s){e(s.primaryKey,s)})}keys(e){var n=this._ctx;n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,o){r.push(o.key)}).then(function(){return r}).then(e)}primaryKeys(e){var n=this._ctx;if(n.dir==="next"&&Ve(n,!0)&&n.limit>0)return this._read(s=>{var o=Ut(n,n.table.core.schema);return n.table.core.query({trans:s,values:!1,limit:n.limit,query:{index:o,range:n.range}})}).then(({result:s})=>s).then(e);n.keysOnly=!n.isMatch;var r=[];return this.each(function(s,o){r.push(o.primaryKey)}).then(function(){return r}).then(e)}uniqueKeys(e){return this._ctx.unique="unique",this.keys(e)}firstKey(e){return this.limit(1).keys(function(n){return n[0]}).then(e)}lastKey(e){return this.reverse().firstKey(e)}distinct(){var e=this._ctx,n=e.index&&e.table.schema.idxByName[e.index];if(!n||!n.multi)return this;var r={};return xn(this._ctx,function(s){var o=s.primaryKey.toString(),i=te(r,o);return r[o]=!0,!i}),this}modify(e){var n=this._ctx;return this._write(r=>{var s;if(typeof e=="function")s=e;else{var o=z(e),i=o.length;s=function(m){for(var b=!1,y=0;y<i;++y){var p=o[y],w=e[p];ve(m,p)!==w&&(re(m,p,w),b=!0)}return b}}const a=n.table.core,{outbound:l,extractKey:d}=a.schema.primaryKey,c=this.db._options.modifyChunkSize||200,u=[];let f=0;const h=[],g=(m,b)=>{const{failures:y,numFailures:p}=b;f+=m-p;for(let w of z(y))u.push(y[w])};return this.clone().primaryKeys().then(m=>{const b=y=>{const p=Math.min(c,m.length-y);return a.getMany({trans:r,keys:m.slice(y,y+p),cache:"immutable"}).then(w=>{const P=[],k=[],x=l?[]:null,S=[];for(let _=0;_<p;++_){const O=w[_],M={value:Et(O),primKey:m[y+_]};s.call(M,M.value,M)!==!1&&(M.value==null?S.push(m[y+_]):l||J(d(O),d(M.value))===0?(k.push(M.value),l&&x.push(m[y+_])):(S.push(m[y+_]),P.push(M.value)))}const T=Ve(n)&&n.limit===1/0&&(typeof e!="function"||e===Sn)&&{index:n.index,range:n.range};return Promise.resolve(P.length>0&&a.mutate({trans:r,type:"add",values:P}).then(_=>{for(let O in _.failures)S.splice(parseInt(O),1);g(P.length,_)})).then(()=>(k.length>0||T&&typeof e=="object")&&a.mutate({trans:r,type:"put",keys:x,values:k,criteria:T,changeSpec:typeof e!="function"&&e}).then(_=>g(k.length,_))).then(()=>(S.length>0||T&&e===Sn)&&a.mutate({trans:r,type:"delete",keys:S,criteria:T}).then(_=>g(S.length,_))).then(()=>m.length>y+p&&b(y+c))})};return b(0).then(()=>{if(u.length>0)throw new tn("Error modifying one or more objects",u,f,h);return m.length})})})}delete(){var e=this._ctx,n=e.range;return Ve(e)&&(e.isPrimKey&&!Ra||n.type===3)?this._write(r=>{const{primaryKey:s}=e.table.core.schema,o=n;return e.table.core.count({trans:r,query:{index:s,range:o}}).then(i=>e.table.core.mutate({trans:r,type:"deleteRange",range:o}).then(({failures:a,lastResult:l,results:d,numFailures:c})=>{if(c)throw new tn("Could not delete some values",Object.keys(a).map(u=>a[u]),i-c);return i-c}))}):this.modify(Sn)}}const Sn=(t,e)=>e.value=null;function Ma(t,e){return t<e?-1:t===e?0:1}function Ia(t,e){return t>e?-1:t===e?0:1}function ee(t,e,n){var r=t instanceof Us?new t.Collection(t):t;return r._ctx.error=n?new n(e):new TypeError(e),r}function Ue(t){return new t.Collection(t,()=>Vs("")).limit(0)}function Ba(t,e,n,r,s,o){for(var i=Math.min(t.length,r.length),a=-1,l=0;l<i;++l){var d=e[l];if(d!==r[l])return s(t[l],n[l])<0?t.substr(0,l)+n[l]+n.substr(l+1):s(t[l],r[l])<0?t.substr(0,l)+r[l]+n.substr(l+1):a>=0?t.substr(0,a)+e[a]+n.substr(a+1):null;s(t[l],d)<0&&(a=l)}return i<r.length&&o==="next"?t+n.substr(t.length):i<t.length&&o==="prev"?t.substr(0,n.length):a<0?null:t.substr(0,a)+r[a]+n.substr(a+1)}function It(t,e,n,r){var s,o,i,a,l,d,c,u=n.length;if(!n.every(m=>typeof m=="string"))return ee(t,"String expected.");function f(m){s=function(y){return y==="next"?p=>p.toUpperCase():p=>p.toLowerCase()}(m),o=function(y){return y==="next"?p=>p.toLowerCase():p=>p.toUpperCase()}(m),i=m==="next"?Ma:Ia;var b=n.map(function(y){return{lower:o(y),upper:s(y)}}).sort(function(y,p){return i(y.lower,p.lower)});a=b.map(function(y){return y.upper}),l=b.map(function(y){return y.lower}),d=m,c=m==="next"?"":r}f("next");var h=new t.Collection(t,()=>ke(a[0],l[u-1]+r));h._ondirectionchange=function(m){f(m)};var g=0;return h._addAlgorithm(function(m,b,y){var p=m.key;if(typeof p!="string")return!1;var w=o(p);if(e(w,l,g))return!0;for(var P=null,k=g;k<u;++k){var x=Ba(p,w,a[k],l[k],i,d);x===null&&P===null?g=k+1:(P===null||i(P,x)>0)&&(P=x)}return b(P!==null?function(){m.continue(P+c)}:y),!1}),h}function ke(t,e,n,r){return{type:2,lower:t,upper:e,lowerOpen:n,upperOpen:r}}function Vs(t){return{type:1,lower:t,upper:t}}class Us{get Collection(){return this._ctx.table.db.Collection}between(e,n,r,s){r=r!==!1,s=s===!0;try{return this._cmp(e,n)>0||this._cmp(e,n)===0&&(r||s)&&(!r||!s)?Ue(this):new this.Collection(this,()=>ke(e,n,!r,!s))}catch{return ee(this,fe)}}equals(e){return e==null?ee(this,fe):new this.Collection(this,()=>Vs(e))}above(e){return e==null?ee(this,fe):new this.Collection(this,()=>ke(e,void 0,!0))}aboveOrEqual(e){return e==null?ee(this,fe):new this.Collection(this,()=>ke(e,void 0,!1))}below(e){return e==null?ee(this,fe):new this.Collection(this,()=>ke(void 0,e,!1,!0))}belowOrEqual(e){return e==null?ee(this,fe):new this.Collection(this,()=>ke(void 0,e))}startsWith(e){return typeof e!="string"?ee(this,"String expected."):this.between(e,e+Te,!0,!0)}startsWithIgnoreCase(e){return e===""?this.startsWith(e):It(this,(n,r)=>n.indexOf(r[0])===0,[e],Te)}equalsIgnoreCase(e){return It(this,(n,r)=>n===r[0],[e],"")}anyOfIgnoreCase(){var e=he.apply(ze,arguments);return e.length===0?Ue(this):It(this,(n,r)=>r.indexOf(n)!==-1,e,"")}startsWithAnyOfIgnoreCase(){var e=he.apply(ze,arguments);return e.length===0?Ue(this):It(this,(n,r)=>r.some(s=>n.indexOf(s)===0),e,Te)}anyOf(){const e=he.apply(ze,arguments);let n=this._cmp;try{e.sort(n)}catch{return ee(this,fe)}if(e.length===0)return Ue(this);const r=new this.Collection(this,()=>ke(e[0],e[e.length-1]));r._ondirectionchange=o=>{n=o==="next"?this._ascending:this._descending,e.sort(n)};let s=0;return r._addAlgorithm((o,i,a)=>{const l=o.key;for(;n(l,e[s])>0;)if(++s,s===e.length)return i(a),!1;return n(l,e[s])===0||(i(()=>{o.continue(e[s])}),!1)}),r}notEqual(e){return this.inAnyRange([[-(1/0),e],[e,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})}noneOf(){const e=he.apply(ze,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch{return ee(this,fe)}const n=e.reduce((r,s)=>r?r.concat([[r[r.length-1][1],s]]):[[-(1/0),s]],null);return n.push([e[e.length-1],this.db._maxKey]),this.inAnyRange(n,{includeLowers:!1,includeUppers:!1})}inAnyRange(e,n){const r=this._cmp,s=this._ascending,o=this._descending,i=this._min,a=this._max;if(e.length===0)return Ue(this);if(!e.every(p=>p[0]!==void 0&&p[1]!==void 0&&s(p[0],p[1])<=0))return ee(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",K.InvalidArgument);const l=!n||n.includeLowers!==!1,d=n&&n.includeUppers===!0;let c,u=s;function f(p,w){return u(p[0],w[0])}try{c=e.reduce(function(p,w){let P=0,k=p.length;for(;P<k;++P){const x=p[P];if(r(w[0],x[1])<0&&r(w[1],x[0])>0){x[0]=i(x[0],w[0]),x[1]=a(x[1],w[1]);break}}return P===k&&p.push(w),p},[]),c.sort(f)}catch{return ee(this,fe)}let h=0;const g=d?p=>s(p,c[h][1])>0:p=>s(p,c[h][1])>=0,m=l?p=>o(p,c[h][0])>0:p=>o(p,c[h][0])>=0;let b=g;const y=new this.Collection(this,()=>ke(c[0][0],c[c.length-1][1],!l,!d));return y._ondirectionchange=p=>{p==="next"?(b=g,u=s):(b=m,u=o),c.sort(f)},y._addAlgorithm((p,w,P)=>{for(var k=p.key;b(k);)if(++h,h===c.length)return w(P),!1;return!!function(x){return!g(x)&&!m(x)}(k)||(this._cmp(k,c[h][1])===0||this._cmp(k,c[h][0])===0||w(()=>{u===s?p.continue(c[h][0]):p.continue(c[h][1])}),!1)}),y}startsWithAnyOf(){const e=he.apply(ze,arguments);return e.every(n=>typeof n=="string")?e.length===0?Ue(this):this.inAnyRange(e.map(n=>[n,n+Te])):ee(this,"startsWithAnyOf() only works with strings")}}function ae(t){return L(function(e){return xt(e),t(e.target.error),!1})}function xt(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault()}const Ce=ht(null,"storagemutated");class $a{_lock(){return at(!j.global),++this._reculock,this._reculock!==1||j.global||(j.lockOwnerFor=this),this}_unlock(){if(at(!j.global),--this._reculock==0)for(j.global||(j.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var e=this._blockedFuncs.shift();try{rt(e[1],e[0])}catch{}}return this}_locked(){return this._reculock&&j.lockOwnerFor!==this}create(e){if(!this.mode)return this;const n=this.db.idbdb,r=this.db._state.dbOpenError;if(at(!this.idbtrans),!e&&!n)switch(r&&r.name){case"DatabaseClosedError":throw new K.DatabaseClosed(r);case"MissingAPIError":throw new K.MissingAPI(r.message,r);default:throw new K.OpenFailed(r)}if(!this.active)throw new K.TransactionInactive;return at(this._completion._state===null),(e=this.idbtrans=e||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}))).onerror=L(s=>{xt(s),this._reject(e.error)}),e.onabort=L(s=>{xt(s),this.active&&this._reject(new K.Abort(e.error)),this.active=!1,this.on("abort").fire(s)}),e.oncomplete=L(()=>{this.active=!1,this._resolve(),"mutatedParts"in e&&Ce.storagemutated.fire(e.mutatedParts)}),this}_promise(e,n,r){if(e==="readwrite"&&this.mode!=="readwrite")return W(new K.ReadOnly("Transaction is readonly"));if(!this.active)return W(new K.TransactionInactive);if(this._locked())return new E((o,i)=>{this._blockedFuncs.push([()=>{this._promise(e,n,r).then(o,i)},j])});if(r)return Ae(()=>{var o=new E((i,a)=>{this._lock();const l=n(i,a,this);l&&l.then&&l.then(i,a)});return o.finally(()=>this._unlock()),o._lib=!0,o});var s=new E((o,i)=>{var a=n(o,i,this);a&&a.then&&a.then(o,i)});return s._lib=!0,s}_root(){return this.parent?this.parent._root():this}waitFor(e){var n=this._root();const r=E.resolve(e);if(n._waitingFor)n._waitingFor=n._waitingFor.then(()=>r);else{n._waitingFor=r,n._waitingQueue=[];var s=n.idbtrans.objectStore(n.storeNames[0]);(function i(){for(++n._spinCount;n._waitingQueue.length;)n._waitingQueue.shift()();n._waitingFor&&(s.get(-1/0).onsuccess=i)})()}var o=n._waitingFor;return new E((i,a)=>{r.then(l=>n._waitingQueue.push(L(i.bind(null,l))),l=>n._waitingQueue.push(L(a.bind(null,l)))).finally(()=>{n._waitingFor===o&&(n._waitingFor=null)})})}abort(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new K.Abort))}table(e){const n=this._memoizedTables||(this._memoizedTables={});if(te(n,e))return n[e];const r=this.schema[e];if(!r)throw new K.NotFound("Table "+e+" not part of transaction");const s=new this.db.Table(e,r,this);return s.core=this.db.core.table(e),n[e]=s,s}}function Wn(t,e,n,r,s,o,i){return{name:t,keyPath:e,unique:n,multi:r,auto:s,compound:o,src:(n&&!i?"&":"")+(r?"*":"")+(s?"++":"")+zs(e)}}function zs(t){return typeof t=="string"?t:t?"["+[].join.call(t,"+")+"]":""}function Ws(t,e,n){return{name:t,primKey:e,indexes:n,mappedClass:null,idxByName:Ps(n,r=>[r.name,r])}}let kt=t=>{try{return t.only([[]]),kt=()=>[[]],[[]]}catch{return kt=()=>Te,Te}};function Hn(t){return t==null?()=>{}:typeof t=="string"?function(e){return e.split(".").length===1?n=>n[e]:n=>ve(n,e)}(t):e=>ve(e,t)}function qr(t){return[].slice.call(t)}let Na=0;function mt(t){return t==null?":id":typeof t=="string"?t:`[${t.join("+")}]`}function Fa(t,e,n){function r(l){if(l.type===3)return null;if(l.type===4)throw new Error("Cannot convert never type to IDBKeyRange");const{lower:d,upper:c,lowerOpen:u,upperOpen:f}=l;return d===void 0?c===void 0?null:e.upperBound(c,!!f):c===void 0?e.lowerBound(d,!!u):e.bound(d,c,!!u,!!f)}const{schema:s,hasGetAll:o}=function(l,d){const c=qr(l.objectStoreNames);return{schema:{name:l.name,tables:c.map(u=>d.objectStore(u)).map(u=>{const{keyPath:f,autoIncrement:h}=u,g=Y(f),m=f==null,b={},y={name:u.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:m,compound:g,keyPath:f,autoIncrement:h,unique:!0,extractKey:Hn(f)},indexes:qr(u.indexNames).map(p=>u.index(p)).map(p=>{const{name:w,unique:P,multiEntry:k,keyPath:x}=p,S={name:w,compound:Y(x),keyPath:x,unique:P,multiEntry:k,extractKey:Hn(x)};return b[mt(x)]=S,S}),getIndexByKeyPath:p=>b[mt(p)]};return b[":id"]=y.primaryKey,f!=null&&(b[mt(f)]=y.primaryKey),y})},hasGetAll:c.length>0&&"getAll"in d.objectStore(c[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}(t,n),i=s.tables.map(l=>function(d){const c=d.name;return{name:c,schema:d,mutate:function({trans:u,type:f,keys:h,values:g,range:m}){return new Promise((b,y)=>{b=L(b);const p=u.objectStore(c),w=p.keyPath==null,P=f==="put"||f==="add";if(!P&&f!=="delete"&&f!=="deleteRange")throw new Error("Invalid operation type: "+f);const{length:k}=h||g||{length:1};if(h&&g&&h.length!==g.length)throw new Error("Given keys array must have same length as given values array.");if(k===0)return b({numFailures:0,failures:{},results:[],lastResult:void 0});let x;const S=[],T=[];let _=0;const O=C=>{++_,xt(C)};if(f==="deleteRange"){if(m.type===4)return b({numFailures:_,failures:T,results:[],lastResult:void 0});m.type===3?S.push(x=p.clear()):S.push(x=p.delete(r(m)))}else{const[C,A]=P?w?[g,h]:[g,null]:[h,null];if(P)for(let v=0;v<k;++v)S.push(x=A&&A[v]!==void 0?p[f](C[v],A[v]):p[f](C[v])),x.onerror=O;else for(let v=0;v<k;++v)S.push(x=p[f](C[v])),x.onerror=O}const M=C=>{const A=C.target.result;S.forEach((v,I)=>v.error!=null&&(T[I]=v.error)),b({numFailures:_,failures:T,results:f==="delete"?h:S.map(v=>v.result),lastResult:A})};x.onerror=C=>{O(C),M(C)},x.onsuccess=M})},getMany:({trans:u,keys:f})=>new Promise((h,g)=>{h=L(h);const m=u.objectStore(c),b=f.length,y=new Array(b);let p,w=0,P=0;const k=S=>{const T=S.target;y[T._pos]=T.result,++P===w&&h(y)},x=ae(g);for(let S=0;S<b;++S)f[S]!=null&&(p=m.get(f[S]),p._pos=S,p.onsuccess=k,p.onerror=x,++w);w===0&&h(y)}),get:({trans:u,key:f})=>new Promise((h,g)=>{h=L(h);const m=u.objectStore(c).get(f);m.onsuccess=b=>h(b.target.result),m.onerror=ae(g)}),query:function(u){return f=>new Promise((h,g)=>{h=L(h);const{trans:m,values:b,limit:y,query:p}=f,w=y===1/0?void 0:y,{index:P,range:k}=p,x=m.objectStore(c),S=P.isPrimaryKey?x:x.index(P.name),T=r(k);if(y===0)return h({result:[]});if(u){const _=b?S.getAll(T,w):S.getAllKeys(T,w);_.onsuccess=O=>h({result:O.target.result}),_.onerror=ae(g)}else{let _=0;const O=b||!("openKeyCursor"in S)?S.openCursor(T):S.openKeyCursor(T),M=[];O.onsuccess=C=>{const A=O.result;return A?(M.push(b?A.value:A.primaryKey),++_===y?h({result:M}):void A.continue()):h({result:M})},O.onerror=ae(g)}})}(o),openCursor:function({trans:u,values:f,query:h,reverse:g,unique:m}){return new Promise((b,y)=>{b=L(b);const{index:p,range:w}=h,P=u.objectStore(c),k=p.isPrimaryKey?P:P.index(p.name),x=g?m?"prevunique":"prev":m?"nextunique":"next",S=f||!("openKeyCursor"in k)?k.openCursor(r(w),x):k.openKeyCursor(r(w),x);S.onerror=ae(y),S.onsuccess=L(T=>{const _=S.result;if(!_)return void b(null);_.___id=++Na,_.done=!1;const O=_.continue.bind(_);let M=_.continuePrimaryKey;M&&(M=M.bind(_));const C=_.advance.bind(_),A=()=>{throw new Error("Cursor not stopped")};_.trans=u,_.stop=_.continue=_.continuePrimaryKey=_.advance=()=>{throw new Error("Cursor not started")},_.fail=L(y),_.next=function(){let v=1;return this.start(()=>v--?this.continue():this.stop()).then(()=>this)},_.start=v=>{const I=new Promise((U,ce)=>{U=L(U),S.onerror=ae(ce),_.fail=ce,_.stop=st=>{_.stop=_.continue=_.continuePrimaryKey=_.advance=A,U(st)}}),V=()=>{if(S.result)try{v()}catch(U){_.fail(U)}else _.done=!0,_.start=()=>{throw new Error("Cursor behind last entry")},_.stop()};return S.onsuccess=L(U=>{S.onsuccess=V,V()}),_.continue=O,_.continuePrimaryKey=M,_.advance=C,V(),I},b(_)},y)})},count({query:u,trans:f}){const{index:h,range:g}=u;return new Promise((m,b)=>{const y=f.objectStore(c),p=h.isPrimaryKey?y:y.index(h.name),w=r(g),P=w?p.count(w):p.count();P.onsuccess=L(k=>m(k.target.result)),P.onerror=ae(b)})}}}(l)),a={};return i.forEach(l=>a[l.name]=l),{stack:"dbcore",transaction:t.transaction.bind(t),table(l){if(!a[l])throw new Error(`Table '${l}' not found`);return a[l]},MIN_KEY:-1/0,MAX_KEY:kt(e),schema:s}}function Gn({_novip:t},e){const n=e.db,r=function(s,o,{IDBKeyRange:i,indexedDB:a},l){return{dbcore:function(c,u){return u.reduce((f,{create:h})=>({...f,...h(f)}),c)}(Fa(o,i,l),s.dbcore)}}(t._middlewares,n,t._deps,e);t.core=r.dbcore,t.tables.forEach(s=>{const o=s.name;t.core.schema.tables.some(i=>i.name===o)&&(s.core=t.core.table(o),t[o]instanceof t.Table&&(t[o].core=s.core))})}function an({_novip:t},e,n,r){n.forEach(s=>{const o=r[s];e.forEach(i=>{const a=hr(i,s);(!a||"value"in a&&a.value===void 0)&&(i===t.Transaction.prototype||i instanceof t.Transaction?be(i,s,{get(){return this.table(s)},set(l){xs(this,s,{value:l,writable:!0,configurable:!0,enumerable:!0})}}):i[s]=new t.Table(s,o))})})}function Yn({_novip:t},e){e.forEach(n=>{for(let r in n)n[r]instanceof t.Table&&delete n[r]})}function La(t,e){return t._cfg.version-e._cfg.version}function qa(t,e,n,r){const s=t._dbSchema,o=t._createTransaction("readwrite",t._storeNames,s);o.create(n),o._completion.catch(r);const i=o._reject.bind(o),a=j.transless||j;Ae(()=>{j.trans=o,j.transless=a,e===0?(z(s).forEach(l=>{Pn(n,l,s[l].primKey,s[l].indexes)}),Gn(t,n),E.follow(()=>t.on.populate.fire(o)).catch(i)):function({_novip:l},d,c,u){const f=[],h=l._versions;let g=l._dbSchema=Qn(l,l.idbdb,u),m=!1;function b(){return f.length?E.resolve(f.shift()(c.idbtrans)).then(b):E.resolve()}return h.filter(y=>y._cfg.version>=d).forEach(y=>{f.push(()=>{const p=g,w=y._cfg.dbschema;Jn(l,p,u),Jn(l,w,u),g=l._dbSchema=w;const P=Hs(p,w);P.add.forEach(x=>{Pn(u,x[0],x[1].primKey,x[1].indexes)}),P.change.forEach(x=>{if(x.recreate)throw new K.Upgrade("Not yet support for changing primary key");{const S=u.objectStore(x.name);x.add.forEach(T=>Xn(S,T)),x.change.forEach(T=>{S.deleteIndex(T.name),Xn(S,T)}),x.del.forEach(T=>S.deleteIndex(T))}});const k=y._cfg.contentUpgrade;if(k&&y._cfg.version>d){Gn(l,u),c._memoizedTables={},m=!0;let x=As(w);P.del.forEach(O=>{x[O]=p[O]}),Yn(l,[l.Transaction.prototype]),an(l,[l.Transaction.prototype],z(x),x),c.schema=x;const S=mr(k);let T;S&&nt();const _=E.follow(()=>{if(T=k(c),T&&S){var O=we.bind(null,null);T.then(O,O)}});return T&&typeof T.then=="function"?E.resolve(T):_.then(()=>T)}}),f.push(p=>{(!m||!Da)&&function(w,P){[].slice.call(P.db.objectStoreNames).forEach(k=>w[k]==null&&P.db.deleteObjectStore(k))}(y._cfg.dbschema,p),Yn(l,[l.Transaction.prototype]),an(l,[l.Transaction.prototype],l._storeNames,l._dbSchema),c.schema=l._dbSchema})}),b().then(()=>{var y,p;p=u,z(y=g).forEach(w=>{p.db.objectStoreNames.contains(w)||Pn(p,w,y[w].primKey,y[w].indexes)})})}(t,e,o,n).catch(i)})}function Hs(t,e){const n={del:[],add:[],change:[]};let r;for(r in t)e[r]||n.del.push(r);for(r in e){const s=t[r],o=e[r];if(s){const i={name:r,def:o,recreate:!1,del:[],add:[],change:[]};if(""+(s.primKey.keyPath||"")!=""+(o.primKey.keyPath||"")||s.primKey.auto!==o.primKey.auto&&!pn)i.recreate=!0,n.change.push(i);else{const a=s.idxByName,l=o.idxByName;let d;for(d in a)l[d]||i.del.push(d);for(d in l){const c=a[d],u=l[d];c?c.src!==u.src&&i.change.push(u):i.add.push(u)}(i.del.length>0||i.add.length>0||i.change.length>0)&&n.change.push(i)}}else n.add.push([r,o])}return n}function Pn(t,e,n,r){const s=t.db.createObjectStore(e,n.keyPath?{keyPath:n.keyPath,autoIncrement:n.auto}:{autoIncrement:n.auto});return r.forEach(o=>Xn(s,o)),s}function Xn(t,e){t.createIndex(e.name,e.keyPath,{unique:e.unique,multiEntry:e.multi})}function Qn(t,e,n){const r={};return en(e.objectStoreNames,0).forEach(s=>{const o=n.objectStore(s);let i=o.keyPath;const a=Wn(zs(i),i||"",!1,!1,!!o.autoIncrement,i&&typeof i!="string",!0),l=[];for(let c=0;c<o.indexNames.length;++c){const u=o.index(o.indexNames[c]);i=u.keyPath;var d=Wn(u.name,i,!!u.unique,!!u.multiEntry,!1,i&&typeof i!="string",!1);l.push(d)}r[s]=Ws(s,a,l)}),r}function Jn({_novip:t},e,n){const r=n.db.objectStoreNames;for(let s=0;s<r.length;++s){const o=r[s],i=n.objectStore(o);t._hasGetAll="getAll"in i;for(let a=0;a<i.indexNames.length;++a){const l=i.indexNames[a],d=i.index(l).keyPath,c=typeof d=="string"?d:"["+en(d).join("+")+"]";if(e[o]){const u=e[o].idxByName[c];u&&(u.name=l,delete e[o].idxByName[c],e[o].idxByName[l]=u)}}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&F.WorkerGlobalScope&&F instanceof F.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(t._hasGetAll=!1)}class Va{_parseStoresSpec(e,n){z(e).forEach(r=>{if(e[r]!==null){var s=e[r].split(",").map((i,a)=>{const l=(i=i.trim()).replace(/([&*]|\+\+)/g,""),d=/^\[/.test(l)?l.match(/^\[(.*)\]$/)[1].split("+"):l;return Wn(l,d||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),Y(d),a===0)}),o=s.shift();if(o.multi)throw new K.Schema("Primary key cannot be multi-valued");s.forEach(i=>{if(i.auto)throw new K.Schema("Only primary key can be marked as autoIncrement (++)");if(!i.keyPath)throw new K.Schema("Index must have a name and cannot be an empty string")}),n[r]=Ws(r,o,s)}})}stores(e){const n=this.db;this._cfg.storesSource=this._cfg.storesSource?Z(this._cfg.storesSource,e):e;const r=n._versions,s={};let o={};return r.forEach(i=>{Z(s,i._cfg.storesSource),o=i._cfg.dbschema={},i._parseStoresSpec(s,o)}),n._dbSchema=o,Yn(n,[n._allTables,n,n.Transaction.prototype]),an(n,[n._allTables,n,n.Transaction.prototype,this._cfg.tables],z(o),o),n._storeNames=z(o),this}upgrade(e){return this._cfg.contentUpgrade=yr(this._cfg.contentUpgrade||$,e),this}}function _r(t,e){let n=t._dbNamesDB;return n||(n=t._dbNamesDB=new $e("__dbnames",{addons:[],indexedDB:t,IDBKeyRange:e}),n.version(1).stores({dbnames:"name"})),n.table("dbnames")}function xr(t){return t&&typeof t.databases=="function"}function Zn(t){return Ae(function(){return j.letThrough=!0,t()})}function Ua(){var t;return!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(e){var n=function(){return indexedDB.databases().finally(e)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)}):Promise.resolve()}function za(t){const e=t._state,{indexedDB:n}=t._deps;if(e.isBeingOpened||t.idbdb)return e.dbReadyPromise.then(()=>e.dbOpenError?W(e.dbOpenError):t);le&&(e.openCanceller._stackHolder=Le()),e.isBeingOpened=!0,e.dbOpenError=null,e.openComplete=!1;const r=e.openCanceller;function s(){if(e.openCanceller!==r)throw new K.DatabaseClosed("db.open() was cancelled")}let o=e.dbReadyResolve,i=null,a=!1;return E.race([r,(typeof navigator>"u"?E.resolve():Ua()).then(()=>new E((l,d)=>{if(s(),!n)throw new K.MissingAPI;const c=t.name,u=e.autoSchema?n.open(c):n.open(c,Math.round(10*t.verno));if(!u)throw new K.MissingAPI;u.onerror=ae(d),u.onblocked=L(t._fireOnBlocked),u.onupgradeneeded=L(f=>{if(i=u.transaction,e.autoSchema&&!t._options.allowEmptyDB){u.onerror=xt,i.abort(),u.result.close();const g=n.deleteDatabase(c);g.onsuccess=g.onerror=L(()=>{d(new K.NoSuchDatabase(`Database ${c} doesnt exist`))})}else{i.onerror=ae(d);var h=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;a=h<1,t._novip.idbdb=u.result,qa(t,h/10,i,d)}},d),u.onsuccess=L(()=>{i=null;const f=t._novip.idbdb=u.result,h=en(f.objectStoreNames);if(h.length>0)try{const m=f.transaction((g=h).length===1?g[0]:g,"readonly");e.autoSchema?function({_novip:b},y,p){b.verno=y.version/10;const w=b._dbSchema=Qn(0,y,p);b._storeNames=en(y.objectStoreNames,0),an(b,[b._allTables],z(w),w)}(t,f,m):(Jn(t,t._dbSchema,m),function(b,y){const p=Hs(Qn(0,b.idbdb,y),b._dbSchema);return!(p.add.length||p.change.some(w=>w.add.length||w.change.length))}(t,m)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),Gn(t,m)}catch{}var g;dt.push(t),f.onversionchange=L(m=>{e.vcFired=!0,t.on("versionchange").fire(m)}),f.onclose=L(m=>{t.on("close").fire(m)}),a&&function({indexedDB:m,IDBKeyRange:b},y){!xr(m)&&y!=="__dbnames"&&_r(m,b).put({name:y}).catch($)}(t._deps,c),l()},d)}))]).then(()=>(s(),e.onReadyBeingFired=[],E.resolve(Zn(()=>t.on.ready.fire(t.vip))).then(function l(){if(e.onReadyBeingFired.length>0){let d=e.onReadyBeingFired.reduce(yr,$);return e.onReadyBeingFired=[],E.resolve(Zn(()=>d(t.vip))).then(l)}}))).finally(()=>{e.onReadyBeingFired=null,e.isBeingOpened=!1}).then(()=>t).catch(l=>{e.dbOpenError=l;try{i&&i.abort()}catch{}return r===e.openCanceller&&t._close(),W(l)}).finally(()=>{e.openComplete=!0,o()})}function er(t){var e=o=>t.next(o),n=s(e),r=s(o=>t.throw(o));function s(o){return i=>{var a=o(i),l=a.value;return a.done?l:l&&typeof l.then=="function"?l.then(n,r):Y(l)?Promise.all(l).then(n,r):n(l)}}return s(e)()}function Wa(t,e,n){var r=arguments.length;if(r<2)throw new K.InvalidArgument("Too few arguments");for(var s=new Array(r-1);--r;)s[r-1]=arguments[r];n=s.pop();var o=Es(s);return[t,o,n]}function Gs(t,e,n,r,s){return E.resolve().then(()=>{const o=j.transless||j,i=t._createTransaction(e,n,t._dbSchema,r),a={trans:i,transless:o};if(r)i.idbtrans=r.idbtrans;else try{i.create(),t._state.PR1398_maxLoop=3}catch(u){return u.name===pr.InvalidState&&t.isOpen()&&--t._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),t._close(),t.open().then(()=>Gs(t,e,n,null,s))):W(u)}const l=mr(s);let d;l&&nt();const c=E.follow(()=>{if(d=s.call(i,i),d)if(l){var u=we.bind(null,null);d.then(u,u)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=er(d))},a);return(d&&typeof d.then=="function"?E.resolve(d).then(u=>i.active?u:W(new K.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))):c.then(()=>d)).then(u=>(r&&i._resolve(),i._completion.then(()=>u))).catch(u=>(i._reject(u),W(u)))})}function Bt(t,e,n){const r=Y(t)?t.slice():[t];for(let s=0;s<n;++s)r.push(e);return r}const Ha={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(t){return{...t,table(e){const n=t.table(e),{schema:r}=n,s={},o=[];function i(c,u,f){const h=mt(c),g=s[h]=s[h]||[],m=c==null?0:typeof c=="string"?1:c.length,b=u>0,y={...f,isVirtual:b,keyTail:u,keyLength:m,extractKey:Hn(c),unique:!b&&f.unique};return g.push(y),y.isPrimaryKey||o.push(y),m>1&&i(m===2?c[0]:c.slice(0,m-1),u+1,f),g.sort((p,w)=>p.keyTail-w.keyTail),y}const a=i(r.primaryKey.keyPath,0,r.primaryKey);s[":id"]=[a];for(const c of r.indexes)i(c.keyPath,0,c);function l(c){const u=c.query.index;return u.isVirtual?{...c,query:{index:u,range:(f=c.query.range,h=u.keyTail,{type:f.type===1?2:f.type,lower:Bt(f.lower,f.lowerOpen?t.MAX_KEY:t.MIN_KEY,h),lowerOpen:!0,upper:Bt(f.upper,f.upperOpen?t.MIN_KEY:t.MAX_KEY,h),upperOpen:!0})}}:c;var f,h}return{...n,schema:{...r,primaryKey:a,indexes:o,getIndexByKeyPath:function(c){const u=s[mt(c)];return u&&u[0]}},count:c=>n.count(l(c)),query:c=>n.query(l(c)),openCursor(c){const{keyTail:u,isVirtual:f,keyLength:h}=c.query.index;return f?n.openCursor(l(c)).then(g=>g&&function(m){return Object.create(m,{continue:{value:function(y){y!=null?m.continue(Bt(y,c.reverse?t.MAX_KEY:t.MIN_KEY,u)):c.unique?m.continue(m.key.slice(0,h).concat(c.reverse?t.MIN_KEY:t.MAX_KEY,u)):m.continue()}},continuePrimaryKey:{value(y,p){m.continuePrimaryKey(Bt(y,t.MAX_KEY,u),p)}},primaryKey:{get:()=>m.primaryKey},key:{get(){const y=m.key;return h===1?y[0]:y.slice(0,h)}},value:{get:()=>m.value}})}(g)):n.openCursor(c)}}}}}};function kr(t,e,n,r){return n=n||{},r=r||"",z(t).forEach(s=>{if(te(e,s)){var o=t[s],i=e[s];if(typeof o=="object"&&typeof i=="object"&&o&&i){const a=Kn(o);a!==Kn(i)?n[r+s]=e[s]:a==="Object"?kr(o,i,n,r+s+"."):o!==i&&(n[r+s]=e[s])}else o!==i&&(n[r+s]=e[s])}else n[r+s]=void 0}),z(e).forEach(s=>{te(t,s)||(n[r+s]=e[s])}),n}const Ga={stack:"dbcore",name:"HooksMiddleware",level:2,create:t=>({...t,table(e){const n=t.table(e),{primaryKey:r}=n.schema;return{...n,mutate(o){const i=j.trans,{deleting:a,creating:l,updating:d}=i.table(e).hook;switch(o.type){case"add":if(l.fire===$)break;return i._promise("readwrite",()=>c(o),!0);case"put":if(l.fire===$&&d.fire===$)break;return i._promise("readwrite",()=>c(o),!0);case"delete":if(a.fire===$)break;return i._promise("readwrite",()=>c(o),!0);case"deleteRange":if(a.fire===$)break;return i._promise("readwrite",()=>function(f){return u(f.trans,f.range,1e4)}(o),!0)}return n.mutate(o);function c(f){const h=j.trans,g=f.keys||function(m,b){return b.type==="delete"?b.keys:b.keys||b.values.map(m.extractKey)}(r,f);if(!g)throw new Error("Keys missing");return(f=f.type==="add"||f.type==="put"?{...f,keys:g}:{...f}).type!=="delete"&&(f.values=[...f.values]),f.keys&&(f.keys=[...f.keys]),function(m,b,y){return b.type==="add"?Promise.resolve([]):m.getMany({trans:b.trans,keys:y,cache:"immutable"})}(n,f,g).then(m=>{const b=g.map((y,p)=>{const w=m[p],P={onerror:null,onsuccess:null};if(f.type==="delete")a.fire.call(P,y,w,h);else if(f.type==="add"||w===void 0){const k=l.fire.call(P,y,f.values[p],h);y==null&&k!=null&&(y=k,f.keys[p]=y,r.outbound||re(f.values[p],r.keyPath,y))}else{const k=kr(w,f.values[p]),x=d.fire.call(P,k,y,w,h);if(x){const S=f.values[p];Object.keys(x).forEach(T=>{te(S,T)?S[T]=x[T]:re(S,T,x[T])})}}return P});return n.mutate(f).then(({failures:y,results:p,numFailures:w,lastResult:P})=>{for(let k=0;k<g.length;++k){const x=p?p[k]:g[k],S=b[k];x==null?S.onerror&&S.onerror(y[k]):S.onsuccess&&S.onsuccess(f.type==="put"&&m[k]?f.values[k]:x)}return{failures:y,results:p,numFailures:w,lastResult:P}}).catch(y=>(b.forEach(p=>p.onerror&&p.onerror(y)),Promise.reject(y)))})}function u(f,h,g){return n.query({trans:f,values:!1,query:{index:r,range:h},limit:g}).then(({result:m})=>c({type:"delete",keys:m,trans:f}).then(b=>b.numFailures>0?Promise.reject(b.failures[0]):m.length<g?{failures:[],numFailures:0,lastResult:void 0}:u(f,{...h,lower:m[m.length-1],lowerOpen:!0},g)))}}}}})};function Ys(t,e,n){try{if(!e||e.keys.length<t.length)return null;const r=[];for(let s=0,o=0;s<e.keys.length&&o<t.length;++s)J(e.keys[s],t[o])===0&&(r.push(n?Et(e.values[s]):e.values[s]),++o);return r.length===t.length?r:null}catch{return null}}const Ya={stack:"dbcore",level:-1,create:t=>({table:e=>{const n=t.table(e);return{...n,getMany:r=>{if(!r.cache)return n.getMany(r);const s=Ys(r.keys,r.trans._cache,r.cache==="clone");return s?E.resolve(s):n.getMany(r).then(o=>(r.trans._cache={keys:r.keys,values:r.cache==="clone"?Et(o):o},o))},mutate:r=>(r.type!=="add"&&(r.trans._cache=null),n.mutate(r))}}})};function Sr(t){return!("from"in t)}const de=function(t,e){if(!this){const n=new de;return t&&"d"in t&&Z(n,t),n}Z(this,arguments.length?{d:1,from:t,to:arguments.length>1?e:t}:{d:0})};function St(t,e,n){const r=J(e,n);if(isNaN(r))return;if(r>0)throw RangeError();if(Sr(t))return Z(t,{from:e,to:n,d:1});const s=t.l,o=t.r;if(J(n,t.from)<0)return s?St(s,e,n):t.l={from:e,to:n,d:1,l:null,r:null},Vr(t);if(J(e,t.to)>0)return o?St(o,e,n):t.r={from:e,to:n,d:1,l:null,r:null},Vr(t);J(e,t.from)<0&&(t.from=e,t.l=null,t.d=o?o.d+1:1),J(n,t.to)>0&&(t.to=n,t.r=null,t.d=t.l?t.l.d+1:1);const i=!t.r;s&&!t.l&&ln(t,s),o&&i&&ln(t,o)}function ln(t,e){Sr(e)||function n(r,{from:s,to:o,l:i,r:a}){St(r,s,o),i&&n(r,i),a&&n(r,a)}(t,e)}function Xa(t,e){const n=tr(e);let r=n.next();if(r.done)return!1;let s=r.value;const o=tr(t);let i=o.next(s.from),a=i.value;for(;!r.done&&!i.done;){if(J(a.from,s.to)<=0&&J(a.to,s.from)>=0)return!0;J(s.from,a.from)<0?s=(r=n.next(a.from)).value:a=(i=o.next(s.from)).value}return!1}function tr(t){let e=Sr(t)?null:{s:0,n:t};return{next(n){const r=arguments.length>0;for(;e;)switch(e.s){case 0:if(e.s=1,r)for(;e.n.l&&J(n,e.n.from)<0;)e={up:e,n:e.n.l,s:1};else for(;e.n.l;)e={up:e,n:e.n.l,s:1};case 1:if(e.s=2,!r||J(n,e.n.to)<=0)return{value:e.n,done:!1};case 2:if(e.n.r){e.s=3,e={up:e,n:e.n.r,s:0};continue}case 3:e=e.up}return{done:!0}}}}function Vr(t){var e,n;const r=(((e=t.r)===null||e===void 0?void 0:e.d)||0)-(((n=t.l)===null||n===void 0?void 0:n.d)||0),s=r>1?"r":r<-1?"l":"";if(s){const o=s==="r"?"l":"r",i={...t},a=t[s];t.from=a.from,t.to=a.to,t[s]=a[s],i[s]=a[o],t[o]=i,i.d=Ur(i)}t.d=Ur(t)}function Ur({r:t,l:e}){return(t?e?Math.max(t.d,e.d):t.d:e?e.d:0)+1}et(de.prototype,{add(t){return ln(this,t),this},addKey(t){return St(this,t,t),this},addKeys(t){return t.forEach(e=>St(this,e,e)),this},[Mn](){return tr(this)}});const Qa={stack:"dbcore",level:0,create:t=>{const e=t.schema.name,n=new de(t.MIN_KEY,t.MAX_KEY);return{...t,table:r=>{const s=t.table(r),{schema:o}=s,{primaryKey:i}=o,{extractKey:a,outbound:l}=i,d={...s,mutate:f=>{const h=f.trans,g=h.mutatedParts||(h.mutatedParts={}),m=x=>{const S=`idb://${e}/${r}/${x}`;return g[S]||(g[S]=new de)},b=m(""),y=m(":dels"),{type:p}=f;let[w,P]=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[];const k=f.trans._cache;return s.mutate(f).then(x=>{if(Y(w)){p!=="delete"&&(w=x.results),b.addKeys(w);const S=Ys(w,k);S||p==="add"||y.addKeys(w),(S||P)&&function(T,_,O,M){function C(A){const v=T(A.name||"");function I(U){return U!=null?A.extractKey(U):null}const V=U=>A.multiEntry&&Y(U)?U.forEach(ce=>v.addKey(ce)):v.addKey(U);(O||M).forEach((U,ce)=>{const st=O&&I(O[ce]),yn=M&&I(M[ce]);J(st,yn)!==0&&(st!=null&&V(st),yn!=null&&V(yn))})}_.indexes.forEach(C)}(m,o,S,P)}else if(w){const S={from:w.lower,to:w.upper};y.add(S),b.add(S)}else b.add(n),y.add(n),o.indexes.forEach(S=>m(S.name).add(n));return x})}},c=({query:{index:f,range:h}})=>{var g,m;return[f,new de((g=h.lower)!==null&&g!==void 0?g:t.MIN_KEY,(m=h.upper)!==null&&m!==void 0?m:t.MAX_KEY)]},u={get:f=>[i,new de(f.key)],getMany:f=>[i,new de().addKeys(f.keys)],count:c,query:c,openCursor:c};return z(u).forEach(f=>{d[f]=function(h){const{subscr:g}=j;if(g){const m=P=>{const k=`idb://${e}/${r}/${P}`;return g[k]||(g[k]=new de)},b=m(""),y=m(":dels"),[p,w]=u[f](h);if(m(p.name||"").add(w),!p.isPrimaryKey){if(f!=="count"){const P=f==="query"&&l&&h.values&&s.query({...h,values:!1});return s[f].apply(this,arguments).then(k=>{if(f==="query"){if(l&&h.values)return P.then(({result:S})=>(b.addKeys(S),k));const x=h.values?k.result.map(a):k.result;h.values?b.addKeys(x):y.addKeys(x)}else if(f==="openCursor"){const x=k,S=h.values;return x&&Object.create(x,{key:{get:()=>(y.addKey(x.primaryKey),x.key)},primaryKey:{get(){const T=x.primaryKey;return y.addKey(T),T}},value:{get:()=>(S&&b.addKey(x.primaryKey),x.value)}})}return k})}y.add(n)}}return s[f].apply(this,arguments)}}),d}}}};class $e{constructor(e,n){this._middlewares={},this.verno=0;const r=$e.dependencies;this._options=n={addons:$e.addons,autoOpen:!0,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange,...n},this._deps={indexedDB:n.indexedDB,IDBKeyRange:n.IDBKeyRange};const{addons:s}=n;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;const o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:$,dbReadyPromise:null,cancelOpen:$,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};var i;o.dbReadyPromise=new E(a=>{o.dbReadyResolve=a}),o.openCanceller=new E((a,l)=>{o.cancelOpen=l}),this._state=o,this.name=e,this.on=ht(this,"populate","blocked","versionchange","close",{ready:[yr,$]}),this.on.ready.subscribe=ks(this.on.ready.subscribe,a=>(l,d)=>{$e.vip(()=>{const c=this._state;if(c.openComplete)c.dbOpenError||E.resolve().then(l),d&&a(l);else if(c.onReadyBeingFired)c.onReadyBeingFired.push(l),d&&a(l);else{a(l);const u=this;d||a(function f(){u.on.ready.unsubscribe(l),u.on.ready.unsubscribe(f)})}})}),this.Collection=(i=this,ot(Ka.prototype,function(a,l){this.db=i;let d=qs,c=null;if(l)try{d=l()}catch(g){c=g}const u=a._ctx,f=u.table,h=f.hook.reading.fire;this._ctx={table:f,index:u.index,isPrimKey:!u.index||f.schema.primKey.keyPath&&u.index===f.schema.primKey.name,range:d,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:c,or:u.or,valueMapper:h!==wt?h:null}})),this.Table=function(a){return ot(Ta.prototype,function(l,d,c){this.db=a,this._tx=c,this.name=l,this.schema=d,this.hook=a._allTables[l]?a._allTables[l].hook:ht(null,{creating:[_a,$],reading:[wa,wt],updating:[ka,$],deleting:[xa,$]})})}(this),this.Transaction=function(a){return ot($a.prototype,function(l,d,c,u,f){this.db=a,this.mode=l,this.storeNames=d,this.schema=c,this.chromeTransactionDurability=u,this.idbtrans=null,this.on=ht(this,"complete","error","abort"),this.parent=f||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new E((h,g)=>{this._resolve=h,this._reject=g}),this._completion.then(()=>{this.active=!1,this.on.complete.fire()},h=>{var g=this.active;return this.active=!1,this.on.error.fire(h),this.parent?this.parent._reject(h):g&&this.idbtrans&&this.idbtrans.abort(),W(h)})})}(this),this.Version=function(a){return ot(Va.prototype,function(l){this.db=a,this._cfg={version:l,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}(this),this.WhereClause=function(a){return ot(Us.prototype,function(l,d,c){this.db=a,this._ctx={table:l,index:d===":id"?null:d,or:c};const u=a._deps.indexedDB;if(!u)throw new K.MissingAPI;this._cmp=this._ascending=u.cmp.bind(u),this._descending=(f,h)=>u.cmp(h,f),this._max=(f,h)=>u.cmp(f,h)>0?f:h,this._min=(f,h)=>u.cmp(f,h)<0?f:h,this._IDBKeyRange=a._deps.IDBKeyRange})}(this),this.on("versionchange",a=>{a.newVersion>0?console.warn(`Another connection wants to upgrade database '${this.name}'. Closing db now to resume the upgrade.`):console.warn(`Another connection wants to delete database '${this.name}'. Closing db now to resume the delete request.`),this.close()}),this.on("blocked",a=>{!a.newVersion||a.newVersion<a.oldVersion?console.warn(`Dexie.delete('${this.name}') was blocked`):console.warn(`Upgrade '${this.name}' blocked by other connection holding version ${a.oldVersion/10}`)}),this._maxKey=kt(n.IDBKeyRange),this._createTransaction=(a,l,d,c)=>new this.Transaction(a,l,d,this._options.chromeTransactionDurability,c),this._fireOnBlocked=a=>{this.on("blocked").fire(a),dt.filter(l=>l.name===this.name&&l!==this&&!l._state.vcFired).map(l=>l.on("versionchange").fire(a))},this.use(Ha),this.use(Ga),this.use(Qa),this.use(Ya),this.vip=Object.create(this,{_vip:{value:!0}}),s.forEach(a=>a(this))}version(e){if(isNaN(e)||e<.1)throw new K.Type("Given version is not a positive number");if(e=Math.round(10*e)/10,this.idbdb||this._state.isBeingOpened)throw new K.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,e);const n=this._versions;var r=n.filter(s=>s._cfg.version===e)[0];return r||(r=new this.Version(e),n.push(r),n.sort(La),r.stores({}),this._state.autoSchema=!1,r)}_whenReady(e){return this.idbdb&&(this._state.openComplete||j.letThrough||this._vip)?e():new E((n,r)=>{if(this._state.openComplete)return r(new K.DatabaseClosed(this._state.dbOpenError));if(!this._state.isBeingOpened){if(!this._options.autoOpen)return void r(new K.DatabaseClosed);this.open().catch($)}this._state.dbReadyPromise.then(n,r)}).then(e)}use({stack:e,create:n,level:r,name:s}){s&&this.unuse({stack:e,name:s});const o=this._middlewares[e]||(this._middlewares[e]=[]);return o.push({stack:e,create:n,level:r??10,name:s}),o.sort((i,a)=>i.level-a.level),this}unuse({stack:e,name:n,create:r}){return e&&this._middlewares[e]&&(this._middlewares[e]=this._middlewares[e].filter(s=>r?s.create!==r:!!n&&s.name!==n)),this}open(){return za(this)}_close(){const e=this._state,n=dt.indexOf(this);if(n>=0&&dt.splice(n,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}e.dbReadyPromise=new E(r=>{e.dbReadyResolve=r}),e.openCanceller=new E((r,s)=>{e.cancelOpen=s})}close(){this._close();const e=this._state;this._options.autoOpen=!1,e.dbOpenError=new K.DatabaseClosed,e.isBeingOpened&&e.cancelOpen(e.dbOpenError)}delete(){const e=arguments.length>0,n=this._state;return new E((r,s)=>{const o=()=>{this.close();var i=this._deps.indexedDB.deleteDatabase(this.name);i.onsuccess=L(()=>{(function({indexedDB:a,IDBKeyRange:l},d){!xr(a)&&d!=="__dbnames"&&_r(a,l).delete(d).catch($)})(this._deps,this.name),r()}),i.onerror=ae(s),i.onblocked=this._fireOnBlocked};if(e)throw new K.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})}backendDB(){return this.idbdb}isOpen(){return this.idbdb!==null}hasBeenClosed(){const e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"}hasFailed(){return this._state.dbOpenError!==null}dynamicallyOpened(){return this._state.autoSchema}get tables(){return z(this._allTables).map(e=>this._allTables[e])}transaction(){const e=Wa.apply(this,arguments);return this._transaction.apply(this,e)}_transaction(e,n,r){let s=j.trans;s&&s.db===this&&e.indexOf("!")===-1||(s=null);const o=e.indexOf("?")!==-1;let i,a;e=e.replace("!","").replace("?","");try{if(a=n.map(d=>{var c=d instanceof this.Table?d.name:d;if(typeof c!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return c}),e=="r"||e==="readonly")i="readonly";else{if(e!="rw"&&e!="readwrite")throw new K.InvalidArgument("Invalid transaction mode: "+e);i="readwrite"}if(s){if(s.mode==="readonly"&&i==="readwrite"){if(!o)throw new K.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");s=null}s&&a.forEach(d=>{if(s&&s.storeNames.indexOf(d)===-1){if(!o)throw new K.SubTransaction("Table "+d+" not included in parent transaction.");s=null}}),o&&s&&!s.active&&(s=null)}}catch(d){return s?s._promise(null,(c,u)=>{u(d)}):W(d)}const l=Gs.bind(null,this,i,a,s,r);return s?s._promise(i,l,"lock"):j.trans?rt(j.transless,()=>this._whenReady(l)):this._whenReady(l)}table(e){if(!te(this._allTables,e))throw new K.InvalidTable(`Table ${e} does not exist`);return this._allTables[e]}}const Ja=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";class Za{constructor(e){this._subscribe=e}subscribe(e,n,r){return this._subscribe(e&&typeof e!="function"?e:{next:e,error:n,complete:r})}[Ja](){return this}}function Xs(t,e){return z(e).forEach(n=>{ln(t[n]||(t[n]=new de),e[n])}),t}function el(t){return new Za(e=>{const n=mr(t);let r=!1,s={},o={};const i={get closed(){return r},unsubscribe:()=>{r=!0,Ce.storagemutated.unsubscribe(c)}};e.start&&e.start(i);let a=!1,l=!1;function d(){return z(o).some(f=>s[f]&&Xa(s[f],o[f]))}const c=f=>{Xs(s,f),d()&&u()},u=()=>{if(a||r)return;s={};const f={},h=function(g){n&&nt();const m=()=>Ae(t,{subscr:g,trans:null}),b=j.trans?rt(j.transless,m):m();return n&&b.then(we,we),b}(f);l||(Ce("storagemutated",c),l=!0),a=!0,Promise.resolve(h).then(g=>{a=!1,r||(d()?u():(s={},o=f,e.next&&e.next(g)))},g=>{a=!1,e.error&&e.error(g),i.unsubscribe()})};return u(),i})}let nr;try{nr={indexedDB:F.indexedDB||F.mozIndexedDB||F.webkitIndexedDB||F.msIndexedDB,IDBKeyRange:F.IDBKeyRange||F.webkitIDBKeyRange}}catch{nr={indexedDB:null,IDBKeyRange:null}}const De=$e;function zt(t){let e=me;try{me=!0,Ce.storagemutated.fire(t)}finally{me=e}}et(De,{...Nt,delete:t=>new De(t,{addons:[]}).delete(),exists:t=>new De(t,{addons:[]}).open().then(e=>(e.close(),!0)).catch("NoSuchDatabaseError",()=>!1),getDatabaseNames(t){try{return function({indexedDB:e,IDBKeyRange:n}){return xr(e)?Promise.resolve(e.databases()).then(r=>r.map(s=>s.name).filter(s=>s!=="__dbnames")):_r(e,n).toCollection().primaryKeys()}(De.dependencies).then(t)}catch{return W(new K.MissingAPI)}},defineClass:()=>function(t){Z(this,t)},ignoreTransaction:t=>j.trans?rt(j.transless,t):t(),vip:Zn,async:function(t){return function(){try{var e=er(t.apply(this,arguments));return e&&typeof e.then=="function"?e:E.resolve(e)}catch(n){return W(n)}}},spawn:function(t,e,n){try{var r=er(t.apply(n,e||[]));return r&&typeof r.then=="function"?r:E.resolve(r)}catch(s){return W(s)}},currentTransaction:{get:()=>j.trans||null},waitFor:function(t,e){const n=E.resolve(typeof t=="function"?De.ignoreTransaction(t):t).timeout(e||6e4);return j.trans?j.trans.waitFor(n):n},Promise:E,debug:{get:()=>le,set:t=>{Os(t,t==="dexie"?()=>!0:Ls)}},derive:He,extend:Z,props:et,override:ks,Events:ht,on:Ce,liveQuery:el,extendObservabilitySet:Xs,getByKeyPath:ve,setByKeyPath:re,delByKeyPath:function(t,e){typeof e=="string"?re(t,e,void 0):"length"in e&&[].map.call(e,function(n){re(t,n,void 0)})},shallowClone:As,deepClone:Et,getObjectDiff:kr,cmp:J,asap:Ss,minKey:-(1/0),addons:[],connections:dt,errnames:pr,dependencies:nr,semVer:"3.2.3",version:"3.2.3".split(".").map(t=>parseInt(t)).reduce((t,e,n)=>t+e/Math.pow(10,2*n))}),De.maxKey=kt(De.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ce("storagemutated",t=>{if(!me){let e;pn?(e=document.createEvent("CustomEvent"),e.initCustomEvent("x-storagemutated-1",!0,!0,t)):e=new CustomEvent("x-storagemutated-1",{detail:t}),me=!0,dispatchEvent(e),me=!1}}),addEventListener("x-storagemutated-1",({detail:t})=>{me||zt(t)}));let me=!1;if(typeof BroadcastChannel<"u"){const t=new BroadcastChannel("x-storagemutated-1");typeof t.unref=="function"&&t.unref(),Ce("storagemutated",e=>{me||t.postMessage(e)}),t.onmessage=e=>{e.data&&zt(e.data)}}else if(typeof self<"u"&&typeof navigator<"u"){Ce("storagemutated",e=>{try{me||(typeof localStorage<"u"&&localStorage.setItem("x-storagemutated-1",JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(n=>n.postMessage({type:"x-storagemutated-1",changedParts:e})))}catch{}}),typeof addEventListener<"u"&&addEventListener("storage",e=>{if(e.key==="x-storagemutated-1"){const n=JSON.parse(e.newValue);n&&zt(n.changedParts)}});const t=self.document&&navigator.serviceWorker;t&&t.addEventListener("message",function({data:e}){e&&e.type==="x-storagemutated-1"&&zt(e.changedParts)})}E.rejectionMapper=function(t,e){if(!t||t instanceof Ge||t instanceof TypeError||t instanceof SyntaxError||!t.name||!Mr[t.name])return t;var n=new Mr[t.name](e||t.message,t);return"stack"in t&&be(n,"stack",{get:function(){return this.inner.stack}}),n},Os(le,Ls);const An={minFiles:10,useMock:!0},Wt=new $e("filesDataBase");Wt.version(2).stores({images:"++id, image"});const tl=Pt("<div></div>",2),nl=()=>{const t=Ii({email:We("",{validators:r=>la(r)?null:{errorMessage:"Email address is invalid"}}),files:We([],{validators:r=>r.length<An.minFiles?{errorMessage:`There must be ${An.minFiles} images or more to start training`}:null}),hash:We("",{readonly:!0,disabled:!0})});to(async()=>{t.controls.email.setValue(localStorage.getItem("email")??t.controls.email.value),t.controls.files.setValue(await Wt.images.toArray())});const e=()=>aa(t.controls.files.value),n=async()=>{if(!t.isSubmitted)if(!t.controls.email.isValid)t.controls.email.markTouched(!0);else if(!t.controls.files.isValid)t.controls.files.markTouched(!0);else{t.markPending(!0);const r=await ca(t.controls.email.value,t.controls.files.value,An.useMock);t.controls.hash.setValue(r),t.controls.hash.markDisabled(!1),t.markSubmitted(!0),t.markPending(!1)}};return gt(()=>{console.log(t.controls.email.value),localStorage.setItem("email",t.controls.email.value)}),gt(()=>{Wt.images.clear(),Object.values(t.controls.files.value).map(r=>Wt.images.add(r))}),R(rl,{get children(){return[R(sa,{get imageList(){return e()}}),R(il,{get children(){return[R(sl,{get children(){const r=tl.cloneNode(!0);return jn(r,R(Fi,{name:"email",placeholder:"Email",get control(){return t.controls.email}}),null),jn(r,R(Zi,{name:"files",placeholder:"Upload images",get control(){return t.controls.files}}),null),r}}),R(ol,{get children(){return[R(Wi,{name:"hash",placeholder:"Hash",get control(){return t.controls.hash}}),R(Bi,{name:"submit",placeholder:"Train",get disabled(){return t.isPending||t.isSubmitted},type:"button",onClick:n})]}})]}})]}})},rl=q("section")`
  display: flex;
  gap: var(--outsidePadding);
`,sl=q("form")``,ol=q("fieldset")`
  display: flex;
  position: absolute;
  bottom: 0;
  width: 100%;
  input {
    width: 250px;
  }
  button {
    width: 100px;
  }
`,il=q("div")`
  width: 350px;
  position: relative;
`,al=()=>{const t=[{name:"Train",href:"/train"},{name:"Edit",href:"/edit"}];return[R(ll,{}),R(wi,{navLinks:t}),R(cl,{get children(){return R(ai,{get children(){return[R(wn,{path:"/",get element(){return R(ui,{href:"/train"})}}),R(wn,{path:"/train",component:nl}),R(wn,{path:"/edit",component:Si})]}})}})]},ll=bi`
:root {
  --mainColor: #333333;
  --secondaryColor: #cccccc;
  --thirdColor: #BB2222;
  --navLinkSize: 22px;
  --headerHeight: 60px;
  --outsidePadding: 60px;
}`,cl=q("section")`
  display: flex;
  margin: auto;
  align-items: center;
  justify-content: center;
  min-height: calc(100vh - var(--headerHeight));
  width: calc(100% - 2 * var(--outsidePadding));
`,ul=document.getElementById("root");xo(()=>R(ii,{get source(){return Lo()},get children(){return R(al,{})}}),ul);
